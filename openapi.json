{
  "openapi": "3.1.0",
  "info": {
    "title": "Watch Service Center API",
    "version": "0.1.0"
  },
  "paths": {
    "/health": {
      "get": {
        "summary": "Health Check",
        "description": "Health check endpoint.",
        "operationId": "health_check_health_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {

                }
              }
            }
          }
        }
      }
    },
    "/api/v1/auth/login": {
      "post": {
        "tags": [
          "auth"
        ],
        "summary": "Login",
        "description": "Login endpoint - authenticate user and return JWT token.\n\nArgs:\n    login_data: Username and password\n    db: Database session\n    \nReturns:\n    JWT access token with metadata\n    \nRaises:\n    HTTPException: 401 if credentials are invalid",
        "operationId": "login_api_v1_auth_login_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/LoginRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Token"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/auth/refresh": {
      "post": {
        "tags": [
          "auth"
        ],
        "summary": "Refresh Token",
        "description": "Refresh access token using a valid refresh token.\n\nArgs:\n    refresh_data: Refresh token\n    db: Database session\n    \nReturns:\n    New access token and refresh token\n    \nRaises:\n    HTTPException: 401 if refresh token is invalid or expired",
        "operationId": "refresh_token_api_v1_auth_refresh_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/RefreshTokenRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Token"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/auth/me": {
      "get": {
        "tags": [
          "auth"
        ],
        "summary": "Get Current User Info",
        "description": "Get current user's profile information.\n\nArgs:\n    current_user: Current authenticated user from token\n    \nReturns:\n    User profile data",
        "operationId": "get_current_user_info_api_v1_auth_me_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UserRead"
                }
              }
            }
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ]
      }
    },
    "/api/v1/users": {
      "post": {
        "tags": [
          "users"
        ],
        "summary": "Create User",
        "description": "Create a new user (admin only).\n\nAdmins can create new employee accounts with specified roles.",
        "operationId": "create_user_api_v1_users_post",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UserCreate"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UserRead"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "get": {
        "tags": [
          "users"
        ],
        "summary": "List Users",
        "description": "List all users (admin only).\n\nReturns paginated list of users with optional filtering by active status.",
        "operationId": "list_users_api_v1_users_get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "active_only",
            "in": "query",
            "required": false,
            "schema": {
              "type": "boolean",
              "default": true,
              "title": "Active Only"
            }
          },
          {
            "name": "page",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "minimum": 1,
              "description": "Page number (1-indexed)",
              "default": 1,
              "title": "Page"
            },
            "description": "Page number (1-indexed)"
          },
          {
            "name": "page_size",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 100,
              "minimum": 1,
              "description": "Items per page (max 100)",
              "default": 20,
              "title": "Page Size"
            },
            "description": "Items per page (max 100)"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PaginatedResponse_UserList_"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/users/me": {
      "get": {
        "tags": [
          "users"
        ],
        "summary": "Get Current User Profile",
        "description": "Get current user's profile.\n\nAny authenticated user can access their own profile.",
        "operationId": "get_current_user_profile_api_v1_users_me_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UserRead"
                }
              }
            }
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ]
      },
      "patch": {
        "tags": [
          "users"
        ],
        "summary": "Update Current User Profile",
        "description": "Update current user's profile.\n\nUsers can update their own email, full name, and password.\nRole fields cannot be modified through this endpoint.",
        "operationId": "update_current_user_profile_api_v1_users_me_patch",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UserProfileUpdate"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UserRead"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ]
      }
    },
    "/api/v1/users/{user_id}": {
      "get": {
        "tags": [
          "users"
        ],
        "summary": "Get User",
        "description": "Get a specific user by ID (admin only).",
        "operationId": "get_user_api_v1_users__user_id__get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "user_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "User Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UserRead"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "patch": {
        "tags": [
          "users"
        ],
        "summary": "Update User",
        "description": "Update user information (admin only).\n\nAllows updating username, email, full name, and status flags.",
        "operationId": "update_user_api_v1_users__user_id__patch",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "user_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "User Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UserUpdate"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UserRead"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "users"
        ],
        "summary": "Delete User",
        "description": "Soft delete a user (admin only).\n\nUser will be marked as deleted but data is preserved.\nAdmins cannot delete their own account.",
        "operationId": "delete_user_api_v1_users__user_id__delete",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "user_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "User Id"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Successful Response"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/users/{user_id}/role": {
      "patch": {
        "tags": [
          "users"
        ],
        "summary": "Update User Role",
        "description": "Update user's role/permissions (admin only).\n\nAllows promoting/demoting users to manager or admin roles.",
        "operationId": "update_user_role_api_v1_users__user_id__role_patch",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "user_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "User Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/RoleUpdate"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UserRead"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/users/{user_id}/activate": {
      "post": {
        "tags": [
          "users"
        ],
        "summary": "Activate User",
        "description": "Activate a user account (admin only).\n\nSets is_active to True, allowing the user to log in.",
        "operationId": "activate_user_api_v1_users__user_id__activate_post",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "user_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "User Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UserRead"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/users/{user_id}/deactivate": {
      "post": {
        "tags": [
          "users"
        ],
        "summary": "Deactivate User",
        "description": "Deactivate a user account (admin only).\n\nSets is_active to False, preventing the user from logging in.",
        "operationId": "deactivate_user_api_v1_users__user_id__deactivate_post",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "user_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "User Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UserRead"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/users/{user_id}/reset-password": {
      "post": {
        "tags": [
          "users"
        ],
        "summary": "Reset User Password",
        "description": "Reset a user's password (admin only).\n\nAdmin can reset any user's password without knowing the current password.",
        "operationId": "reset_user_password_api_v1_users__user_id__reset_password_post",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "user_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "User Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/PasswordReset"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UserRead"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/customers": {
      "post": {
        "tags": [
          "customers"
        ],
        "summary": "Create Customer",
        "description": "Create a new customer.\n\nRequires authentication.",
        "operationId": "create_customer_api_v1_customers_post",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CustomerCreate"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CustomerRead"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "get": {
        "tags": [
          "customers"
        ],
        "summary": "List Customers",
        "description": "List all customers with pagination.\n\nOptionally filter by search query.",
        "operationId": "list_customers_api_v1_customers_get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "search",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Search by name, contact, or email",
              "title": "Search"
            },
            "description": "Search by name, contact, or email"
          },
          {
            "name": "page",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "minimum": 1,
              "description": "Page number (1-indexed)",
              "default": 1,
              "title": "Page"
            },
            "description": "Page number (1-indexed)"
          },
          {
            "name": "page_size",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 100,
              "minimum": 1,
              "description": "Items per page (max 100)",
              "default": 20,
              "title": "Page Size"
            },
            "description": "Items per page (max 100)"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PaginatedResponse_CustomerList_"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/customers/{customer_id}": {
      "get": {
        "tags": [
          "customers"
        ],
        "summary": "Get Customer",
        "description": "Get a specific customer by ID with full details.\n\nReturns customer data including:\n- Customer information\n- All related jobs (ordered by creation date, newest first)",
        "operationId": "get_customer_api_v1_customers__customer_id__get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "customer_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Customer Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CustomerDetail"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "patch": {
        "tags": [
          "customers"
        ],
        "summary": "Update Customer",
        "description": "Update a customer.\n\nOnly provided fields will be updated.",
        "operationId": "update_customer_api_v1_customers__customer_id__patch",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "customer_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Customer Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CustomerUpdate"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CustomerRead"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "customers"
        ],
        "summary": "Delete Customer",
        "description": "Soft delete a customer.\n\nRequires manager or admin privileges.\n\nValidation: Cannot delete a customer if they have associated jobs.\nThis ensures referential integrity and prevents orphaned job records.",
        "operationId": "delete_customer_api_v1_customers__customer_id__delete",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "customer_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Customer Id"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Successful Response"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/suppliers": {
      "post": {
        "tags": [
          "suppliers"
        ],
        "summary": "Create Supplier",
        "description": "Create a new supplier.\n\nRequires authentication.",
        "operationId": "create_supplier_api_v1_suppliers_post",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/SupplierCreate"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SupplierRead"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "get": {
        "tags": [
          "suppliers"
        ],
        "summary": "List Suppliers",
        "description": "List all suppliers with pagination.\n\nOptionally filter by search query.",
        "operationId": "list_suppliers_api_v1_suppliers_get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "search",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Search by name",
              "title": "Search"
            },
            "description": "Search by name"
          },
          {
            "name": "page",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "minimum": 1,
              "description": "Page number (1-indexed)",
              "default": 1,
              "title": "Page"
            },
            "description": "Page number (1-indexed)"
          },
          {
            "name": "page_size",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 100,
              "minimum": 1,
              "description": "Items per page (max 100)",
              "default": 20,
              "title": "Page Size"
            },
            "description": "Items per page (max 100)"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PaginatedResponse_SupplierList_"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/suppliers/all": {
      "get": {
        "tags": [
          "suppliers"
        ],
        "summary": "Get All Suppliers",
        "description": "Get all active suppliers (for dropdown/selection).\n\nReturns all suppliers without pagination.",
        "operationId": "get_all_suppliers_api_v1_suppliers_all_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "items": {
                    "$ref": "#/components/schemas/SupplierList"
                  },
                  "type": "array",
                  "title": "Response Get All Suppliers Api V1 Suppliers All Get"
                }
              }
            }
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ]
      }
    },
    "/api/v1/suppliers/{supplier_id}": {
      "get": {
        "tags": [
          "suppliers"
        ],
        "summary": "Get Supplier",
        "description": "Get a specific supplier by ID.",
        "operationId": "get_supplier_api_v1_suppliers__supplier_id__get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "supplier_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Supplier Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SupplierRead"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "patch": {
        "tags": [
          "suppliers"
        ],
        "summary": "Update Supplier",
        "description": "Update a supplier.\n\nOnly provided fields will be updated.",
        "operationId": "update_supplier_api_v1_suppliers__supplier_id__patch",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "supplier_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Supplier Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/SupplierUpdate"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SupplierRead"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "suppliers"
        ],
        "summary": "Delete Supplier",
        "description": "Soft delete a supplier.\n\nRequires manager or admin privileges.\n\nValidation: Cannot delete a supplier if they have associated indents.\nThis ensures referential integrity and prevents orphaned indent records.",
        "operationId": "delete_supplier_api_v1_suppliers__supplier_id__delete",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "supplier_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Supplier Id"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Successful Response"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/brands": {
      "post": {
        "tags": [
          "brands"
        ],
        "summary": "Create Brand",
        "description": "Create a new brand.\n\nRequires authentication.",
        "operationId": "create_brand_api_v1_brands_post",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/BrandCreate"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/BrandRead"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "get": {
        "tags": [
          "brands"
        ],
        "summary": "List Brands",
        "description": "List all brands with pagination.\n\nOptionally filter by search query.",
        "operationId": "list_brands_api_v1_brands_get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "search",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Search by name",
              "title": "Search"
            },
            "description": "Search by name"
          },
          {
            "name": "page",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "minimum": 1,
              "description": "Page number (1-indexed)",
              "default": 1,
              "title": "Page"
            },
            "description": "Page number (1-indexed)"
          },
          {
            "name": "page_size",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 100,
              "minimum": 1,
              "description": "Items per page (max 100)",
              "default": 20,
              "title": "Page Size"
            },
            "description": "Items per page (max 100)"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PaginatedResponse_BrandList_"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/brands/all": {
      "get": {
        "tags": [
          "brands"
        ],
        "summary": "Get All Brands",
        "description": "Get all active brands (for dropdown/selection).\n\nReturns all brands without pagination.",
        "operationId": "get_all_brands_api_v1_brands_all_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "items": {
                    "$ref": "#/components/schemas/BrandList"
                  },
                  "type": "array",
                  "title": "Response Get All Brands Api V1 Brands All Get"
                }
              }
            }
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ]
      }
    },
    "/api/v1/brands/{brand_id}": {
      "get": {
        "tags": [
          "brands"
        ],
        "summary": "Get Brand",
        "description": "Get a specific brand by ID.",
        "operationId": "get_brand_api_v1_brands__brand_id__get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "brand_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Brand Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/BrandRead"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "patch": {
        "tags": [
          "brands"
        ],
        "summary": "Update Brand",
        "description": "Update a brand.\n\nOnly provided fields will be updated.",
        "operationId": "update_brand_api_v1_brands__brand_id__patch",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "brand_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Brand Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/BrandUpdate"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/BrandRead"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "brands"
        ],
        "summary": "Delete Brand",
        "description": "Soft delete a brand.\n\nRequires manager or admin privileges.",
        "operationId": "delete_brand_api_v1_brands__brand_id__delete",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "brand_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Brand Id"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Successful Response"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/jobs": {
      "post": {
        "tags": [
          "jobs"
        ],
        "summary": "Create Job",
        "description": "Create a new job.\n\nRequires authentication.",
        "operationId": "create_job_api_v1_jobs_post",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/JobCreate"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/JobRead"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "get": {
        "tags": [
          "jobs"
        ],
        "summary": "List Jobs",
        "description": "List all jobs with pagination.\n\nOptionally filter by status, customer, or search query.",
        "operationId": "list_jobs_api_v1_jobs_get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "status_filter",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "$ref": "#/components/schemas/JobStatus"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Filter by status",
              "title": "Status Filter"
            },
            "description": "Filter by status"
          },
          {
            "name": "customer_id",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "integer"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Filter by customer ID",
              "title": "Customer Id"
            },
            "description": "Filter by customer ID"
          },
          {
            "name": "search",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Search by job number or notes",
              "title": "Search"
            },
            "description": "Search by job number or notes"
          },
          {
            "name": "page",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "minimum": 1,
              "description": "Page number (1-indexed)",
              "default": 1,
              "title": "Page"
            },
            "description": "Page number (1-indexed)"
          },
          {
            "name": "page_size",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 100,
              "minimum": 1,
              "description": "Items per page (max 100)",
              "default": 20,
              "title": "Page Size"
            },
            "description": "Items per page (max 100)"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PaginatedResponse_JobList_"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/jobs/dashboard/statistics": {
      "get": {
        "tags": [
          "jobs"
        ],
        "summary": "Get Dashboard Statistics",
        "description": "Get dashboard statistics for jobs overview.\n\nReturns key metrics:\n- Total Active Jobs: Jobs not delivered or cancelled\n- In Progress: Jobs in booked, indented, or parts_received status\n- Ready for Delivery: Jobs in completed status\n- Completed Today: Jobs completed today\n\nThis endpoint is optimized for dashboard display and returns counts only.",
        "operationId": "get_dashboard_statistics_api_v1_jobs_dashboard_statistics_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/DashboardStatistics"
                }
              }
            }
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ]
      }
    },
    "/api/v1/jobs/{job_id}": {
      "get": {
        "tags": [
          "jobs"
        ],
        "summary": "Get Job",
        "description": "Get a specific job by ID with full details.\n\nReturns job data including:\n- Customer information\n- Watch details with brand information\n- All related indents with their spare parts and supplier information",
        "operationId": "get_job_api_v1_jobs__job_id__get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "job_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Job Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/JobDetail"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "patch": {
        "tags": [
          "jobs"
        ],
        "summary": "Update Job",
        "description": "Update a job.\n\nOnly provided fields will be updated.",
        "operationId": "update_job_api_v1_jobs__job_id__patch",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "job_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Job Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/JobUpdate"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/JobRead"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "jobs"
        ],
        "summary": "Delete Job",
        "description": "Soft delete a job and cascade to all related entities.\n\nThis will cascade soft delete to:\n- Watch (if exists) and all its complaints, conditions, and attachments\n- All indents and their indent parts\n\nRequires manager or admin privileges.",
        "operationId": "delete_job_api_v1_jobs__job_id__delete",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "job_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Job Id"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Successful Response"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/jobs/{job_id}/status": {
      "post": {
        "tags": [
          "jobs"
        ],
        "summary": "Update Job Status",
        "description": "Update job status with validation.\n\nThis endpoint validates status transitions and updates lifecycle timestamps.",
        "operationId": "update_job_status_api_v1_jobs__job_id__status_post",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "job_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Job Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/JobStatusUpdate"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/JobRead"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/jobs/{job_id}/delay": {
      "post": {
        "tags": [
          "jobs"
        ],
        "summary": "Add Job Delay",
        "description": "Add a delay to a job.\n\nThis endpoint records the delay reason and updates the estimated delivery date.\nSends a notification to the customer about the delay.\n\nRequires manager or admin privileges.",
        "operationId": "add_job_delay_api_v1_jobs__job_id__delay_post",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "job_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Job Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/JobDelayCreate"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/JobRead"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/jobs/{job_id}/recalculate-pricing": {
      "post": {
        "tags": [
          "jobs"
        ],
        "summary": "Recalculate job pricing",
        "description": "Manually recalculate pricing for a job based on current watch and complaints. **Manager+ access.**",
        "operationId": "recalculate_job_pricing_api_v1_jobs__job_id__recalculate_pricing_post",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "job_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Job Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/RecalculatePricingRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/RecalculatePricingResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/jobs/{job_id}/pdf": {
      "get": {
        "tags": [
          "jobs"
        ],
        "summary": "Generate Job Pdf",
        "description": "Generate PDF for a job.\n\nReturns a PDF document with:\n- Customer information\n- Watch details\n- Complaints and conditions (hierarchical, compact)\n- Cost estimate (optionally with breakdown)\n- Notes and signature fields\n\nRequires authentication.",
        "operationId": "generate_job_pdf_api_v1_jobs__job_id__pdf_get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "job_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Job Id"
            }
          },
          {
            "name": "show_breakdown",
            "in": "query",
            "required": false,
            "schema": {
              "type": "boolean",
              "description": "Show pricing breakdown (parts vs labour). Defaults to system setting.",
              "title": "Show Breakdown"
            },
            "description": "Show pricing breakdown (parts vs labour). Defaults to system setting."
          }
        ],
        "responses": {
          "200": {
            "description": "PDF document of the job order",
            "content": {
              "application/pdf": {

              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/watches": {
      "post": {
        "tags": [
          "watches"
        ],
        "summary": "Create Watch",
        "description": "Create a new watch and attach to a job.\n\nA job can only have one watch (one-to-one relationship).\nRequires authentication.",
        "operationId": "create_watch_api_v1_watches_post",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/WatchCreate"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/WatchRead"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "get": {
        "tags": [
          "watches"
        ],
        "summary": "List Watches",
        "description": "List all watches with pagination.\n\nOptionally filter by brand or search query.",
        "operationId": "list_watches_api_v1_watches_get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "brand_id",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "integer"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Filter by brand ID",
              "title": "Brand Id"
            },
            "description": "Filter by brand ID"
          },
          {
            "name": "search",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Search by model or serial number",
              "title": "Search"
            },
            "description": "Search by model or serial number"
          },
          {
            "name": "page",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "minimum": 1,
              "description": "Page number (1-indexed)",
              "default": 1,
              "title": "Page"
            },
            "description": "Page number (1-indexed)"
          },
          {
            "name": "page_size",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 100,
              "minimum": 1,
              "description": "Items per page (max 100)",
              "default": 20,
              "title": "Page Size"
            },
            "description": "Items per page (max 100)"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PaginatedResponse_WatchList_"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/watches/{watch_id}": {
      "get": {
        "tags": [
          "watches"
        ],
        "summary": "Get Watch",
        "description": "Get a specific watch by ID.",
        "operationId": "get_watch_api_v1_watches__watch_id__get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "watch_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Watch Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/WatchRead"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "patch": {
        "tags": [
          "watches"
        ],
        "summary": "Update Watch",
        "description": "Update a watch.\n\nOnly provided fields will be updated.",
        "operationId": "update_watch_api_v1_watches__watch_id__patch",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "watch_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Watch Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/WatchUpdate"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/WatchRead"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "watches"
        ],
        "summary": "Delete Watch",
        "description": "Soft delete a watch.\n\nRequires manager or admin privileges.",
        "operationId": "delete_watch_api_v1_watches__watch_id__delete",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "watch_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Watch Id"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Successful Response"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/watches/job/{job_id}": {
      "get": {
        "tags": [
          "watches"
        ],
        "summary": "Get Watch By Job",
        "description": "Get the watch for a specific job.\n\nSince job-watch is one-to-one, returns a single watch or 404.",
        "operationId": "get_watch_by_job_api_v1_watches_job__job_id__get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "job_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Job Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/WatchRead"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/indents": {
      "post": {
        "tags": [
          "indents"
        ],
        "summary": "Create Indent",
        "description": "Create a new indent (parts order from supplier).\n\nBusiness Logic:\n- Serial number is auto-generated (IND-YYYY-NNNN)\n- Job ID is required\n- Automatically updates job status to \"indented\" (if currently \"booked\")\n- Validates job exists and is not completed/delivered/cancelled\n- Validates supplier exists (if provided)\n\nRequires authentication.",
        "operationId": "create_indent_api_v1_indents_post",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/IndentCreate"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/IndentRead"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "get": {
        "tags": [
          "indents"
        ],
        "summary": "List Indents",
        "description": "List all indents with pagination.\n\nOptionally filter by job or supplier.",
        "operationId": "list_indents_api_v1_indents_get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "job_id",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "integer"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Filter by job ID",
              "title": "Job Id"
            },
            "description": "Filter by job ID"
          },
          {
            "name": "supplier_id",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "integer"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Filter by supplier ID",
              "title": "Supplier Id"
            },
            "description": "Filter by supplier ID"
          },
          {
            "name": "page",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "minimum": 1,
              "description": "Page number (1-indexed)",
              "default": 1,
              "title": "Page"
            },
            "description": "Page number (1-indexed)"
          },
          {
            "name": "page_size",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 100,
              "minimum": 1,
              "description": "Items per page (max 100)",
              "default": 20,
              "title": "Page Size"
            },
            "description": "Items per page (max 100)"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PaginatedResponse_IndentList_"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/indents/{indent_id}": {
      "get": {
        "tags": [
          "indents"
        ],
        "summary": "Get Indent",
        "description": "Get a specific indent by ID (without parts).\n\nFor indent with parts list, use GET /indents/{indent_id}/with-parts",
        "operationId": "get_indent_api_v1_indents__indent_id__get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "indent_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Indent Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/IndentRead"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "patch": {
        "tags": [
          "indents"
        ],
        "summary": "Update Indent",
        "description": "Update an indent.\n\nOnly provided fields will be updated.\nValidates supplier and job if being changed.\n\nNote: Changing job_id is rare and should be done carefully.",
        "operationId": "update_indent_api_v1_indents__indent_id__patch",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "indent_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Indent Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/IndentUpdate"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/IndentRead"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "indents"
        ],
        "summary": "Delete Indent",
        "description": "Soft delete an indent.\n\nNote: This does NOT automatically revert the job status.\nIf needed, update the job status separately.\n\nRequires manager or admin privileges.",
        "operationId": "delete_indent_api_v1_indents__indent_id__delete",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "indent_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Indent Id"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Successful Response"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/indents/{indent_id}/with-parts": {
      "get": {
        "tags": [
          "indents"
        ],
        "summary": "Get Indent With Parts",
        "description": "Get a specific indent by ID with all associated parts.\n\nReturns indent with nested parts list for easier frontend consumption.\nIncludes spare part details (name, part number, description, unit price).",
        "operationId": "get_indent_with_parts_api_v1_indents__indent_id__with_parts_get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "indent_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Indent Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/IndentWithParts"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/indents/{indent_id}/pdf": {
      "get": {
        "tags": [
          "indents"
        ],
        "summary": "Generate Indent Pdf",
        "description": "Generate PDF for an indent (purchase order for supplier).\n\nReturns a PDF document with:\n- Supplier information\n- Related job details (customer, watch)\n- Spare parts list with quantities\n- Notes and signature fields\n\nRequires authentication.",
        "operationId": "generate_indent_pdf_api_v1_indents__indent_id__pdf_get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "indent_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Indent Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "PDF document of the indent/purchase order",
            "content": {
              "application/pdf": {

              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/spare-parts": {
      "post": {
        "tags": [
          "spare_parts"
        ],
        "summary": "Create Spare Part",
        "description": "Create a new spare part in the catalog.\n\nSpare parts are reusable catalog items (like products).\nThey can be linked to multiple indents via the indent_parts junction table.\n\nRequires authentication.",
        "operationId": "create_spare_part_api_v1_spare_parts_post",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/SparePartCreate"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SparePartRead"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "get": {
        "tags": [
          "spare_parts"
        ],
        "summary": "List Spare Parts",
        "description": "List all spare parts in the catalog with pagination.\n\nOptionally search by part name or description.\nSpare parts are global catalog items, not indent-specific.",
        "operationId": "list_spare_parts_api_v1_spare_parts_get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "search",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Search by part name or description",
              "title": "Search"
            },
            "description": "Search by part name or description"
          },
          {
            "name": "page",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "minimum": 1,
              "description": "Page number (1-indexed)",
              "default": 1,
              "title": "Page"
            },
            "description": "Page number (1-indexed)"
          },
          {
            "name": "page_size",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 100,
              "minimum": 1,
              "description": "Items per page (max 100)",
              "default": 20,
              "title": "Page Size"
            },
            "description": "Items per page (max 100)"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PaginatedResponse_SparePartList_"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/spare-parts/all": {
      "get": {
        "tags": [
          "spare_parts"
        ],
        "summary": "Get All Spare Parts",
        "description": "Get all active spare parts for dropdown/selection (no pagination).\n\nReturns all spare parts ordered by name.\nUseful for UI dropdowns when adding parts to indents.",
        "operationId": "get_all_spare_parts_api_v1_spare_parts_all_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "items": {
                    "$ref": "#/components/schemas/SparePartList"
                  },
                  "type": "array",
                  "title": "Response Get All Spare Parts Api V1 Spare Parts All Get"
                }
              }
            }
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ]
      }
    },
    "/api/v1/spare-parts/{spare_part_id}": {
      "get": {
        "tags": [
          "spare_parts"
        ],
        "summary": "Get Spare Part",
        "description": "Get a specific spare part by ID.",
        "operationId": "get_spare_part_api_v1_spare_parts__spare_part_id__get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "spare_part_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Spare Part Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SparePartRead"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "patch": {
        "tags": [
          "spare_parts"
        ],
        "summary": "Update Spare Part",
        "description": "Update a spare part in the catalog.\n\nOnly provided fields will be updated.\nValidates that new part_name doesn't conflict with existing parts.",
        "operationId": "update_spare_part_api_v1_spare_parts__spare_part_id__patch",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "spare_part_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Spare Part Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/SparePartUpdate"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SparePartRead"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "spare_parts"
        ],
        "summary": "Delete Spare Part",
        "description": "Soft delete a spare part.\n\nRequires manager or admin privileges.",
        "operationId": "delete_spare_part_api_v1_spare_parts__spare_part_id__delete",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "spare_part_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Spare Part Id"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Successful Response"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/indents/{indent_id}/parts": {
      "post": {
        "tags": [
          "indent_parts"
        ],
        "summary": "Add Part To Indent",
        "description": "Add a spare part to an indent.\n\nIf the part is already in the indent, the quantity will be increased.\nRequires authentication.",
        "operationId": "add_part_to_indent_api_v1_indents__indent_id__parts_post",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "indent_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Indent Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/IndentPartCreate"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/IndentPartWithDetails"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "get": {
        "tags": [
          "indent_parts"
        ],
        "summary": "List Indent Parts",
        "description": "List all spare parts in an indent.",
        "operationId": "list_indent_parts_api_v1_indents__indent_id__parts_get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "indent_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Indent Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/IndentPartWithDetails"
                  },
                  "title": "Response List Indent Parts Api V1 Indents  Indent Id  Parts Get"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/indents/{indent_id}/parts/{spare_part_id}": {
      "patch": {
        "tags": [
          "indent_parts"
        ],
        "summary": "Update Indent Part",
        "description": "Update the quantity of a spare part in an indent.",
        "operationId": "update_indent_part_api_v1_indents__indent_id__parts__spare_part_id__patch",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "indent_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Indent Id"
            }
          },
          {
            "name": "spare_part_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Spare Part Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/IndentPartUpdate"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/IndentPartWithDetails"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "indent_parts"
        ],
        "summary": "Remove Part From Indent",
        "description": "Remove a spare part from an indent.\n\nRequires manager or admin privileges.",
        "operationId": "remove_part_from_indent_api_v1_indents__indent_id__parts__spare_part_id__delete",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "indent_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Indent Id"
            }
          },
          {
            "name": "spare_part_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Spare Part Id"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Successful Response"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/complaints/nodes": {
      "post": {
        "tags": [
          "complaints"
        ],
        "summary": "Create Complaint Node",
        "description": "Create a new complaint node (admin only).\n\nComplaint nodes can be organized hierarchically using parent_id.\nBusiness rule: Only leaf nodes (without children) can have default_spare_part_id.",
        "operationId": "create_complaint_node_api_v1_complaints_nodes_post",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ComplaintNodeCreate"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ComplaintNodeRead"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "get": {
        "tags": [
          "complaints"
        ],
        "summary": "List Complaint Nodes",
        "description": "Get all complaint nodes as a tree structure.\n\nReturns root nodes with their children recursively.\n\nArgs:\n    available_only: If True, only return nodes that are currently available\n                   (not deleted and within effective date range)",
        "operationId": "list_complaint_nodes_api_v1_complaints_nodes_get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "available_only",
            "in": "query",
            "required": false,
            "schema": {
              "type": "boolean",
              "default": true,
              "title": "Available Only"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/ComplaintNodeList"
                  },
                  "title": "Response List Complaint Nodes Api V1 Complaints Nodes Get"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/complaints/nodes/search": {
      "get": {
        "tags": [
          "complaints"
        ],
        "summary": "Search Complaint Nodes",
        "description": "Search complaint nodes by label or code.\n\nArgs:\n    q: Search query\n    available_only: If True, only return currently available nodes",
        "operationId": "search_complaint_nodes_api_v1_complaints_nodes_search_get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "q",
            "in": "query",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Q"
            }
          },
          {
            "name": "available_only",
            "in": "query",
            "required": false,
            "schema": {
              "type": "boolean",
              "default": true,
              "title": "Available Only"
            }
          },
          {
            "name": "page",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "minimum": 1,
              "description": "Page number (1-indexed)",
              "default": 1,
              "title": "Page"
            },
            "description": "Page number (1-indexed)"
          },
          {
            "name": "page_size",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 100,
              "minimum": 1,
              "description": "Items per page (max 100)",
              "default": 20,
              "title": "Page Size"
            },
            "description": "Items per page (max 100)"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/ComplaintNodeRead"
                  },
                  "title": "Response Search Complaint Nodes Api V1 Complaints Nodes Search Get"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/complaints/nodes/{node_id}": {
      "get": {
        "tags": [
          "complaints"
        ],
        "summary": "Get Complaint Node",
        "description": "Get a specific complaint node by ID.",
        "operationId": "get_complaint_node_api_v1_complaints_nodes__node_id__get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "node_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Node Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ComplaintNodeRead"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "patch": {
        "tags": [
          "complaints"
        ],
        "summary": "Update Complaint Node",
        "description": "Update a complaint node (admin only).",
        "operationId": "update_complaint_node_api_v1_complaints_nodes__node_id__patch",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "node_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Node Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ComplaintNodeUpdate"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ComplaintNodeRead"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "complaints"
        ],
        "summary": "Delete Complaint Node",
        "description": "Soft delete a complaint node (admin only).\n\nNote: This will not affect existing watch complaints that reference this node.",
        "operationId": "delete_complaint_node_api_v1_complaints_nodes__node_id__delete",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "node_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Node Id"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Successful Response"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/complaints/watch-complaints": {
      "post": {
        "tags": [
          "complaints"
        ],
        "summary": "Attach Complaint To Watch",
        "description": "Attach a complaint to a watch.\n\nValidates that both watch and complaint node exist and are not deleted.",
        "operationId": "attach_complaint_to_watch_api_v1_complaints_watch_complaints_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/WatchComplaintCreate"
              }
            }
          },
          "required": true
        },
        "responses": {
          "201": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/WatchComplaintRead"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ]
      }
    },
    "/api/v1/complaints/watch-complaints/batch": {
      "post": {
        "tags": [
          "complaints"
        ],
        "summary": "Attach Complaints Batch",
        "description": "Attach multiple complaints to a watch at once.\n\nSkips nodes that are already attached.",
        "operationId": "attach_complaints_batch_api_v1_complaints_watch_complaints_batch_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/WatchComplaintBatchCreate"
              }
            }
          },
          "required": true
        },
        "responses": {
          "201": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "items": {
                    "$ref": "#/components/schemas/WatchComplaintRead"
                  },
                  "type": "array",
                  "title": "Response Attach Complaints Batch Api V1 Complaints Watch Complaints Batch Post"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ]
      }
    },
    "/api/v1/complaints/watch-complaints/watch/{watch_id}": {
      "get": {
        "tags": [
          "complaints"
        ],
        "summary": "Get Watch Complaints",
        "description": "Get all complaints for a specific watch.",
        "operationId": "get_watch_complaints_api_v1_complaints_watch_complaints_watch__watch_id__get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "watch_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Watch Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/WatchComplaintRead"
                  },
                  "title": "Response Get Watch Complaints Api V1 Complaints Watch Complaints Watch  Watch Id  Get"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/complaints/watch-complaints/{complaint_id}": {
      "get": {
        "tags": [
          "complaints"
        ],
        "summary": "Get Watch Complaint",
        "description": "Get a specific watch complaint by ID.",
        "operationId": "get_watch_complaint_api_v1_complaints_watch_complaints__complaint_id__get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "complaint_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Complaint Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/WatchComplaintRead"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "patch": {
        "tags": [
          "complaints"
        ],
        "summary": "Update Watch Complaint",
        "description": "Update a watch complaint (typically just notes).",
        "operationId": "update_watch_complaint_api_v1_complaints_watch_complaints__complaint_id__patch",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "complaint_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Complaint Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/WatchComplaintUpdate"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/WatchComplaintRead"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "complaints"
        ],
        "summary": "Detach Complaint From Watch",
        "description": "Detach a complaint from a watch (soft delete).",
        "operationId": "detach_complaint_from_watch_api_v1_complaints_watch_complaints__complaint_id__delete",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "complaint_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Complaint Id"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Successful Response"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/complaints/watch-complaints/watch/{watch_id}/all": {
      "delete": {
        "tags": [
          "complaints"
        ],
        "summary": "Detach All Complaints From Watch",
        "description": "Detach all complaints from a watch.",
        "operationId": "detach_all_complaints_from_watch_api_v1_complaints_watch_complaints_watch__watch_id__all_delete",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "watch_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Watch Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {

                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/complaints/watch-complaints/watch/{watch_id}/indent-suggestions": {
      "get": {
        "tags": [
          "complaints"
        ],
        "summary": "Get Indent Suggestions For Watch",
        "description": "Get suggested spare parts for creating an indent based on watch complaints.\n\nThis endpoint analyzes all complaints with indent_required=True for the watch\nand returns aggregated spare parts with delivery estimates.\n\nUseful for pre-populating indent creation forms.\n\nArgs:\n    watch_id: ID of the watch to get indent suggestions for\n\nReturns:\n    IndentSuggestionResponse with spare parts, delivery estimates, and related metadata",
        "operationId": "get_indent_suggestions_for_watch_api_v1_complaints_watch_complaints_watch__watch_id__indent_suggestions_get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "watch_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Watch Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/IndentSuggestionResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/conditions/nodes": {
      "post": {
        "tags": [
          "conditions"
        ],
        "summary": "Create Condition Node",
        "description": "Create a new condition node (admin only).\n\nCondition nodes can be organized hierarchically using parent_id.",
        "operationId": "create_condition_node_api_v1_conditions_nodes_post",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ConditionNodeCreate"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ConditionNodeRead"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "get": {
        "tags": [
          "conditions"
        ],
        "summary": "List Condition Nodes",
        "description": "Get all condition nodes as a tree structure.\n\nReturns root nodes with their children recursively.\n\nArgs:\n    available_only: If True, only return nodes that are currently available\n                   (not deleted and within effective date range)",
        "operationId": "list_condition_nodes_api_v1_conditions_nodes_get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "available_only",
            "in": "query",
            "required": false,
            "schema": {
              "type": "boolean",
              "default": true,
              "title": "Available Only"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/ConditionNodeList"
                  },
                  "title": "Response List Condition Nodes Api V1 Conditions Nodes Get"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/conditions/nodes/search": {
      "get": {
        "tags": [
          "conditions"
        ],
        "summary": "Search Condition Nodes",
        "description": "Search condition nodes by label or code.\n\nArgs:\n    q: Search query\n    available_only: If True, only return currently available nodes",
        "operationId": "search_condition_nodes_api_v1_conditions_nodes_search_get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "q",
            "in": "query",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Q"
            }
          },
          {
            "name": "available_only",
            "in": "query",
            "required": false,
            "schema": {
              "type": "boolean",
              "default": true,
              "title": "Available Only"
            }
          },
          {
            "name": "page",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "minimum": 1,
              "description": "Page number (1-indexed)",
              "default": 1,
              "title": "Page"
            },
            "description": "Page number (1-indexed)"
          },
          {
            "name": "page_size",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 100,
              "minimum": 1,
              "description": "Items per page (max 100)",
              "default": 20,
              "title": "Page Size"
            },
            "description": "Items per page (max 100)"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/ConditionNodeRead"
                  },
                  "title": "Response Search Condition Nodes Api V1 Conditions Nodes Search Get"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/conditions/nodes/{node_id}": {
      "get": {
        "tags": [
          "conditions"
        ],
        "summary": "Get Condition Node",
        "description": "Get a specific condition node by ID.",
        "operationId": "get_condition_node_api_v1_conditions_nodes__node_id__get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "node_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Node Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ConditionNodeRead"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "patch": {
        "tags": [
          "conditions"
        ],
        "summary": "Update Condition Node",
        "description": "Update a condition node (admin only).",
        "operationId": "update_condition_node_api_v1_conditions_nodes__node_id__patch",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "node_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Node Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ConditionNodeUpdate"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ConditionNodeRead"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "conditions"
        ],
        "summary": "Delete Condition Node",
        "description": "Soft delete a condition node (admin only).\n\nNote: This will not affect existing watch conditions that reference this node.",
        "operationId": "delete_condition_node_api_v1_conditions_nodes__node_id__delete",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "node_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Node Id"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Successful Response"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/conditions/watch-conditions": {
      "post": {
        "tags": [
          "conditions"
        ],
        "summary": "Attach Condition To Watch",
        "description": "Attach a condition to a watch.\n\nValidates that both watch and condition node exist and are not deleted.",
        "operationId": "attach_condition_to_watch_api_v1_conditions_watch_conditions_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/WatchConditionCreate"
              }
            }
          },
          "required": true
        },
        "responses": {
          "201": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/WatchConditionRead"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ]
      }
    },
    "/api/v1/conditions/watch-conditions/batch": {
      "post": {
        "tags": [
          "conditions"
        ],
        "summary": "Attach Conditions Batch",
        "description": "Attach multiple conditions to a watch at once.\n\nSkips nodes that are already attached.",
        "operationId": "attach_conditions_batch_api_v1_conditions_watch_conditions_batch_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/WatchConditionBatchCreate"
              }
            }
          },
          "required": true
        },
        "responses": {
          "201": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "items": {
                    "$ref": "#/components/schemas/WatchConditionRead"
                  },
                  "type": "array",
                  "title": "Response Attach Conditions Batch Api V1 Conditions Watch Conditions Batch Post"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ]
      }
    },
    "/api/v1/conditions/watch-conditions/watch/{watch_id}": {
      "get": {
        "tags": [
          "conditions"
        ],
        "summary": "Get Watch Conditions",
        "description": "Get all conditions for a specific watch.",
        "operationId": "get_watch_conditions_api_v1_conditions_watch_conditions_watch__watch_id__get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "watch_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Watch Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/WatchConditionRead"
                  },
                  "title": "Response Get Watch Conditions Api V1 Conditions Watch Conditions Watch  Watch Id  Get"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/conditions/watch-conditions/{condition_id}": {
      "get": {
        "tags": [
          "conditions"
        ],
        "summary": "Get Watch Condition",
        "description": "Get a specific watch condition by ID.",
        "operationId": "get_watch_condition_api_v1_conditions_watch_conditions__condition_id__get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "condition_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Condition Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/WatchConditionRead"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "patch": {
        "tags": [
          "conditions"
        ],
        "summary": "Update Watch Condition",
        "description": "Update a watch condition (typically just notes).",
        "operationId": "update_watch_condition_api_v1_conditions_watch_conditions__condition_id__patch",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "condition_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Condition Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/WatchConditionUpdate"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/WatchConditionRead"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "conditions"
        ],
        "summary": "Detach Condition From Watch",
        "description": "Detach a condition from a watch (soft delete).",
        "operationId": "detach_condition_from_watch_api_v1_conditions_watch_conditions__condition_id__delete",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "condition_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Condition Id"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Successful Response"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/conditions/watch-conditions/watch/{watch_id}/all": {
      "delete": {
        "tags": [
          "conditions"
        ],
        "summary": "Detach All Conditions From Watch",
        "description": "Detach all conditions from a watch.",
        "operationId": "detach_all_conditions_from_watch_api_v1_conditions_watch_conditions_watch__watch_id__all_delete",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "watch_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Watch Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {

                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/watches/{watch_id}/attachments": {
      "post": {
        "tags": [
          "attachments"
        ],
        "summary": "Upload watch attachment",
        "description": "Upload file for a watch. Max 10MB. Allowed: JPEG, PNG, WebP, GIF, PDF",
        "operationId": "upload_watch_attachment_api_v1_watches__watch_id__attachments_post",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "watch_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Watch Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "multipart/form-data": {
              "schema": {
                "$ref": "#/components/schemas/Body_upload_watch_attachment_api_v1_watches__watch_id__attachments_post"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/AttachmentUploadResponse"
                }
              }
            }
          },
          "400": {
            "description": "Invalid file type or corrupted",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorDetail"
                }
              }
            }
          },
          "404": {
            "description": "Watch not found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorDetail"
                }
              }
            }
          },
          "413": {
            "description": "File exceeds 10MB limit",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorDetail"
                }
              }
            }
          },
          "422": {
            "description": "Validation error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ValidationError"
                }
              }
            }
          }
        }
      },
      "get": {
        "tags": [
          "attachments"
        ],
        "summary": "List watch attachments",
        "description": "List all attachments for a watch (paginated).",
        "operationId": "list_watch_attachments_api_v1_watches__watch_id__attachments_get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "watch_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Watch Id"
            }
          },
          {
            "name": "skip",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "default": 0,
              "title": "Skip"
            }
          },
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "default": 20,
              "title": "Limit"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/WatchAttachmentList"
                  },
                  "title": "Response List Watch Attachments Api V1 Watches  Watch Id  Attachments Get"
                }
              }
            }
          },
          "404": {
            "description": "Watch not found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorDetail"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/attachments/watch/{attachment_id}": {
      "get": {
        "tags": [
          "attachments"
        ],
        "summary": "Download watch attachment",
        "description": "Download watch attachment file (binary response).",
        "operationId": "download_watch_attachment_api_v1_attachments_watch__attachment_id__get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "attachment_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Attachment Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Binary file content",
            "content": {
              "application/octet-stream": {
                "schema": {
                  "type": "string",
                  "format": "binary"
                }
              }
            }
          },
          "404": {
            "description": "Attachment not found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorDetail"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "attachments"
        ],
        "summary": "Delete watch attachment (soft delete)",
        "description": "Soft delete watch attachment (manager only).",
        "operationId": "delete_watch_attachment_api_v1_attachments_watch__attachment_id__delete",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "attachment_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Attachment Id"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Attachment deleted successfully (soft delete)"
          },
          "403": {
            "description": "Forbidden - requires manager or admin role",
            "content": {
              "application/json": {
                "example": {
                  "detail": "Not enough permissions"
                },
                "schema": {
                  "$ref": "#/components/schemas/ErrorDetail"
                }
              }
            }
          },
          "404": {
            "description": "Attachment not found",
            "content": {
              "application/json": {
                "example": {
                  "detail": "Watch attachment with ID 42 not found"
                },
                "schema": {
                  "$ref": "#/components/schemas/ErrorDetail"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/attachments/watch/{attachment_id}/info": {
      "get": {
        "tags": [
          "attachments"
        ],
        "summary": "Get watch attachment metadata",
        "description": "Get attachment metadata without downloading file.",
        "operationId": "get_watch_attachment_info_api_v1_attachments_watch__attachment_id__info_get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "attachment_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Attachment Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/WatchAttachmentRead"
                }
              }
            }
          },
          "404": {
            "description": "Attachment not found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorDetail"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/watches/complaints/{complaint_id}/attachments": {
      "post": {
        "tags": [
          "attachments"
        ],
        "summary": "Upload complaint attachment",
        "description": "Upload file for complaint. Max 10MB. Allowed: JPEG, PNG, WebP, GIF, PDF",
        "operationId": "upload_complaint_attachment_api_v1_watches_complaints__complaint_id__attachments_post",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "complaint_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Complaint Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "multipart/form-data": {
              "schema": {
                "$ref": "#/components/schemas/Body_upload_complaint_attachment_api_v1_watches_complaints__complaint_id__attachments_post"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/AttachmentUploadResponse"
                }
              }
            }
          },
          "400": {
            "description": "Invalid file type",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorDetail"
                }
              }
            }
          },
          "404": {
            "description": "Complaint not found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorDetail"
                }
              }
            }
          },
          "413": {
            "description": "File exceeds 10MB",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorDetail"
                }
              }
            }
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ValidationError"
                }
              }
            },
            "description": "Unprocessable Entity"
          }
        }
      },
      "get": {
        "tags": [
          "attachments"
        ],
        "summary": "List complaint attachments",
        "description": "List all attachments for a complaint.",
        "operationId": "list_complaint_attachments_api_v1_watches_complaints__complaint_id__attachments_get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "complaint_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Complaint Id"
            }
          },
          {
            "name": "skip",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "default": 0,
              "title": "Skip"
            }
          },
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "default": 20,
              "title": "Limit"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/WatchComplaintAttachmentList"
                  },
                  "title": "Response List Complaint Attachments Api V1 Watches Complaints  Complaint Id  Attachments Get"
                }
              }
            }
          },
          "404": {
            "description": "Complaint not found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorDetail"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/attachments/complaint/{attachment_id}": {
      "get": {
        "tags": [
          "attachments"
        ],
        "summary": "Download complaint attachment",
        "description": "Download complaint attachment file.",
        "operationId": "download_complaint_attachment_api_v1_attachments_complaint__attachment_id__get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "attachment_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Attachment Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Binary file content",
            "content": {
              "application/octet-stream": {
                "schema": {
                  "type": "string",
                  "format": "binary"
                }
              }
            }
          },
          "404": {
            "description": "Attachment not found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorDetail"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "attachments"
        ],
        "summary": "Delete complaint attachment (soft delete)",
        "description": "Soft delete complaint attachment (manager only).",
        "operationId": "delete_complaint_attachment_api_v1_attachments_complaint__attachment_id__delete",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "attachment_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Attachment Id"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Successful Response"
          },
          "403": {
            "description": "Requires manager role",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorDetail"
                }
              }
            }
          },
          "404": {
            "description": "Attachment not found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorDetail"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/attachments/complaint/{attachment_id}/info": {
      "get": {
        "tags": [
          "attachments"
        ],
        "summary": "Get complaint attachment metadata",
        "description": "Get complaint attachment metadata.",
        "operationId": "get_complaint_attachment_info_api_v1_attachments_complaint__attachment_id__info_get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "attachment_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Attachment Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/WatchComplaintAttachmentRead"
                }
              }
            }
          },
          "404": {
            "description": "Attachment not found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorDetail"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/watches/conditions/{condition_id}/attachments": {
      "post": {
        "tags": [
          "attachments"
        ],
        "summary": "Upload condition attachment",
        "description": "Upload file for condition. Max 10MB. Allowed: JPEG, PNG, WebP, GIF, PDF",
        "operationId": "upload_condition_attachment_api_v1_watches_conditions__condition_id__attachments_post",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "condition_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Condition Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "multipart/form-data": {
              "schema": {
                "$ref": "#/components/schemas/Body_upload_condition_attachment_api_v1_watches_conditions__condition_id__attachments_post"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/AttachmentUploadResponse"
                }
              }
            }
          },
          "400": {
            "description": "Invalid file type",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorDetail"
                }
              }
            }
          },
          "404": {
            "description": "Condition not found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorDetail"
                }
              }
            }
          },
          "413": {
            "description": "File exceeds 10MB",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorDetail"
                }
              }
            }
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ValidationError"
                }
              }
            },
            "description": "Unprocessable Entity"
          }
        }
      },
      "get": {
        "tags": [
          "attachments"
        ],
        "summary": "List condition attachments",
        "description": "List all attachments for a condition.",
        "operationId": "list_condition_attachments_api_v1_watches_conditions__condition_id__attachments_get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "condition_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Condition Id"
            }
          },
          {
            "name": "skip",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "default": 0,
              "title": "Skip"
            }
          },
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "default": 20,
              "title": "Limit"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/WatchConditionAttachmentList"
                  },
                  "title": "Response List Condition Attachments Api V1 Watches Conditions  Condition Id  Attachments Get"
                }
              }
            }
          },
          "404": {
            "description": "Condition not found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorDetail"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/attachments/condition/{attachment_id}": {
      "get": {
        "tags": [
          "attachments"
        ],
        "summary": "Download condition attachment",
        "description": "Download condition attachment file.",
        "operationId": "download_condition_attachment_api_v1_attachments_condition__attachment_id__get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "attachment_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Attachment Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Binary file content",
            "content": {
              "application/octet-stream": {
                "schema": {
                  "type": "string",
                  "format": "binary"
                }
              }
            }
          },
          "404": {
            "description": "Attachment not found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorDetail"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "attachments"
        ],
        "summary": "Delete condition attachment (soft delete)",
        "description": "Soft delete condition attachment (manager only).",
        "operationId": "delete_condition_attachment_api_v1_attachments_condition__attachment_id__delete",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "attachment_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Attachment Id"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Successful Response"
          },
          "403": {
            "description": "Requires manager role",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorDetail"
                }
              }
            }
          },
          "404": {
            "description": "Attachment not found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorDetail"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/attachments/condition/{attachment_id}/info": {
      "get": {
        "tags": [
          "attachments"
        ],
        "summary": "Get condition attachment metadata",
        "description": "Get condition attachment metadata.",
        "operationId": "get_condition_attachment_info_api_v1_attachments_condition__attachment_id__info_get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "attachment_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Attachment Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/WatchConditionAttachmentRead"
                }
              }
            }
          },
          "404": {
            "description": "Attachment not found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorDetail"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/audit/jobs/{job_id}/history": {
      "get": {
        "tags": [
          "audit"
        ],
        "summary": "Get Job Audit History",
        "description": "Get complete audit history for a job.\n\nReturns a timeline of all changes made to the job, ordered by most recent first.\nEach event includes a human-readable summary and detailed change information.\n\n**Pagination**: Use `skip` and `limit` query parameters.\n\n**Permissions**: Manager or Admin only.",
        "operationId": "get_job_audit_history_api_v1_audit_jobs__job_id__history_get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "job_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Job Id"
            }
          },
          {
            "name": "page",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "minimum": 1,
              "description": "Page number (1-indexed)",
              "default": 1,
              "title": "Page"
            },
            "description": "Page number (1-indexed)"
          },
          {
            "name": "page_size",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 100,
              "minimum": 1,
              "description": "Items per page (max 100)",
              "default": 20,
              "title": "Page Size"
            },
            "description": "Items per page (max 100)"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/AuditEventResponse"
                  },
                  "title": "Response Get Job Audit History Api V1 Audit Jobs  Job Id  History Get"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/audit/indents/{indent_id}/history": {
      "get": {
        "tags": [
          "audit"
        ],
        "summary": "Get Indent Audit History",
        "description": "Get complete audit history for an indent.\n\nReturns a timeline of all changes made to the indent, ordered by most recent first.\nEach event includes a human-readable summary and detailed change information.\n\n**Pagination**: Use `skip` and `limit` query parameters.\n\n**Permissions**: Manager or Admin only.",
        "operationId": "get_indent_audit_history_api_v1_audit_indents__indent_id__history_get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "indent_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Indent Id"
            }
          },
          {
            "name": "page",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "minimum": 1,
              "description": "Page number (1-indexed)",
              "default": 1,
              "title": "Page"
            },
            "description": "Page number (1-indexed)"
          },
          {
            "name": "page_size",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 100,
              "minimum": 1,
              "description": "Items per page (max 100)",
              "default": 20,
              "title": "Page Size"
            },
            "description": "Items per page (max 100)"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/AuditEventResponse"
                  },
                  "title": "Response Get Indent Audit History Api V1 Audit Indents  Indent Id  History Get"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/audit/users/{user_id}/actions": {
      "get": {
        "tags": [
          "audit"
        ],
        "summary": "Get User Audit Actions",
        "description": "Get all actions performed by a specific user.\n\nReturns a complete history of all actions (creates, updates, deletes) performed by the user.\nUseful for tracking user activity and accountability.\n\n**Pagination**: Use `skip` and `limit` query parameters.\n\n**Permissions**: Admin only.",
        "operationId": "get_user_audit_actions_api_v1_audit_users__user_id__actions_get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "user_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "User Id"
            }
          },
          {
            "name": "page",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "minimum": 1,
              "description": "Page number (1-indexed)",
              "default": 1,
              "title": "Page"
            },
            "description": "Page number (1-indexed)"
          },
          {
            "name": "page_size",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 100,
              "minimum": 1,
              "description": "Items per page (max 100)",
              "default": 20,
              "title": "Page Size"
            },
            "description": "Items per page (max 100)"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/AuditEventResponse"
                  },
                  "title": "Response Get User Audit Actions Api V1 Audit Users  User Id  Actions Get"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/audit": {
      "get": {
        "tags": [
          "audit"
        ],
        "summary": "Search Audit Events",
        "description": "Search audit events with advanced filters.\n\nPowerful search endpoint for comprehensive audit log queries. All filters are optional and can be combined.\nResults are ordered by most recent first.\n\n**Common Use Cases**:\n- View all changes to a specific entity: `?entity_type=jobs&entity_id=42`\n- Track all actions by a user: `?user_id=5`\n- Find all deletions: `?action=delete`\n- Audit job status changes: `?entity_type=jobs&action=status_change`\n\n**Pagination**: Use `skip` and `limit` query parameters.\n\n**Permissions**: Admin only.",
        "operationId": "search_audit_events_api_v1_audit_get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "entity_type",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Filter by entity type (e.g., 'jobs', 'indents', 'spare_parts')",
              "title": "Entity Type"
            },
            "description": "Filter by entity type (e.g., 'jobs', 'indents', 'spare_parts')"
          },
          {
            "name": "entity_id",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "integer"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Filter by specific entity ID",
              "title": "Entity Id"
            },
            "description": "Filter by specific entity ID"
          },
          {
            "name": "user_id",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "integer"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Filter by user who performed the action",
              "title": "User Id"
            },
            "description": "Filter by user who performed the action"
          },
          {
            "name": "action",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Filter by action type: 'create', 'update', 'delete', 'status_change', 'delay_added', 'restore'",
              "title": "Action"
            },
            "description": "Filter by action type: 'create', 'update', 'delete', 'status_change', 'delay_added', 'restore'"
          },
          {
            "name": "page",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "minimum": 1,
              "description": "Page number (1-indexed)",
              "default": 1,
              "title": "Page"
            },
            "description": "Page number (1-indexed)"
          },
          {
            "name": "page_size",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 100,
              "minimum": 1,
              "description": "Items per page (max 100)",
              "default": 20,
              "title": "Page Size"
            },
            "description": "Items per page (max 100)"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/AuditEventResponse"
                  },
                  "title": "Response Search Audit Events Api V1 Audit Get"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/audit/my-actions": {
      "get": {
        "tags": [
          "audit"
        ],
        "summary": "Get My Audit Actions",
        "description": "Get audit trail of current user's own actions.\n\nReturns a complete history of all actions performed by the currently authenticated user.\nUseful for users to review their own activity.\n\n**Pagination**: Use `skip` and `limit` query parameters (default: skip=0, limit=50).\n\n**Permissions**: Any authenticated user (can only view their own actions).",
        "operationId": "get_my_audit_actions_api_v1_audit_my_actions_get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "page",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "minimum": 1,
              "description": "Page number (1-indexed)",
              "default": 1,
              "title": "Page"
            },
            "description": "Page number (1-indexed)"
          },
          {
            "name": "page_size",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 100,
              "minimum": 1,
              "description": "Items per page (max 100)",
              "default": 20,
              "title": "Page Size"
            },
            "description": "Items per page (max 100)"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/AuditEventResponse"
                  },
                  "title": "Response Get My Audit Actions Api V1 Audit My Actions Get"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/search": {
      "get": {
        "tags": [
          "search"
        ],
        "summary": "Search Entities",
        "description": "Global search across multiple entity types.\n\n**Search Entities:**\n- `customer`: Search by name, contact, email, address, city\n- `job`: Search by job number, notes, customer name, brand name\n- `watch`: Search by model, serial number, brand, remarks\n- `supplier`: Search by name, contact, email, address\n- `brand`: Search by name, description\n\n**Examples:**\n- `/search?q=rolex` - Search all entities for \"rolex\"\n- `/search?q=john&entities=customer,job` - Search customers and jobs for \"john\"\n- `/search?q=JOB-2024&sort_by=date` - Search for jobs, sort by date\n\n**Response:**\nReturns paginated results with entity type, title, subtitle, description, and relevance score.",
        "operationId": "search_entities_api_v1_search_get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "q",
            "in": "query",
            "required": true,
            "schema": {
              "type": "string",
              "minLength": 2,
              "description": "Search query (minimum 2 characters)",
              "title": "Q"
            },
            "description": "Search query (minimum 2 characters)"
          },
          {
            "name": "entities",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Comma-separated entity types (customer,job,watch,supplier,brand). If not provided, searches all.",
              "title": "Entities"
            },
            "description": "Comma-separated entity types (customer,job,watch,supplier,brand). If not provided, searches all."
          },
          {
            "name": "page",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "minimum": 1,
              "description": "Page number (1-indexed)",
              "default": 1,
              "title": "Page"
            },
            "description": "Page number (1-indexed)"
          },
          {
            "name": "page_size",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 100,
              "minimum": 1,
              "description": "Results per page (max 100)",
              "default": 20,
              "title": "Page Size"
            },
            "description": "Results per page (max 100)"
          },
          {
            "name": "sort_by",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string",
              "pattern": "^(relevance|date)$",
              "description": "Sort by relevance or date",
              "default": "relevance",
              "title": "Sort By"
            },
            "description": "Sort by relevance or date"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SearchResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/reports/date-wise": {
      "post": {
        "tags": [
          "reports"
        ],
        "summary": "Generate Date Wise Report",
        "description": "Generate date-wise report (Excel download).\n\nReturns an Excel (.xlsx) file with formatted data.\n\nRequires manager+ permission.\n\n**Report Types:**\n- `pending_repair`: All jobs not yet completed (no date range needed)\n- `repair_status`: All jobs within date range with status\n- `indent_status`: All indents within date range\n- `delivered`: All delivered jobs within date range\n\n**Date Format in Excel:** DD/MM/YYYY\n\n**Response:** Excel file download with filename pattern:\n- pending_repair_DD-MM-YYYY.xlsx\n- repair_status_DD-MM-YYYY_to_DD-MM-YYYY.xlsx\n- indent_status_DD-MM-YYYY_to_DD-MM-YYYY.xlsx\n- delivered_DD-MM-YYYY_to_DD-MM-YYYY.xlsx",
        "operationId": "generate_date_wise_report_api_v1_reports_date_wise_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/DateWiseReportFilters"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Excel file download",
            "headers": {
              "Content-Disposition": {
                "description": "Attachment with filename",
                "schema": {
                  "type": "string",
                  "example": "attachment; filename=pending_repair_10-12-2024.xlsx"
                }
              }
            },
            "content": {
              "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet": {
                "schema": {
                  "type": "string",
                  "format": "binary"
                }
              }
            }
          },
          "400": {
            "description": "Invalid filters or validation error"
          },
          "401": {
            "description": "Unauthorized - not logged in"
          },
          "403": {
            "description": "Forbidden - manager+ required"
          },
          "500": {
            "description": "Server error during report generation"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ]
      }
    },
    "/api/v1/reports/delay": {
      "post": {
        "tags": [
          "reports"
        ],
        "summary": "Generate Delay Report",
        "description": "Generate delay report (Excel download).\n\nReturns an Excel (.xlsx) file with color-coded delayed jobs.\n\nShows jobs delayed beyond the specified threshold (default: 15 days).\n\n**Color Coding:**\n- **Yellow background**: 15-30 days delayed\n- **Red background**: \u003E30 days delayed\n\nRequires manager+ permission.\n\n**Date Format in Excel:** DD/MM/YYYY\n\n**Response:** Excel file download with filename pattern:\n- delay_report_15days_DD-MM-YYYY.xlsx",
        "operationId": "generate_delay_report_api_v1_reports_delay_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/DelayReportFilters"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Excel file download with color-coded delayed jobs",
            "headers": {
              "Content-Disposition": {
                "description": "Attachment with filename",
                "schema": {
                  "type": "string",
                  "example": "attachment; filename=delay_report_15days_10-12-2024.xlsx"
                }
              }
            },
            "content": {
              "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet": {
                "schema": {
                  "type": "string",
                  "format": "binary"
                }
              }
            }
          },
          "400": {
            "description": "Invalid filters or validation error"
          },
          "401": {
            "description": "Unauthorized - not logged in"
          },
          "403": {
            "description": "Forbidden - manager+ required"
          },
          "500": {
            "description": "Server error during report generation"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ]
      }
    },
    "/api/v1/reports/types": {
      "get": {
        "tags": [
          "reports"
        ],
        "summary": "Get Available Reports",
        "description": "Get information about available report types.\n\nReturns descriptions of all available reports.",
        "operationId": "get_available_reports_api_v1_reports_types_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/AvailableReportsResponse"
                }
              }
            }
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ]
      }
    },
    "/api/v1/pricing-rules": {
      "post": {
        "tags": [
          "pricing-rules"
        ],
        "summary": "Create pricing rule",
        "description": "Create a new pricing rule for a root-level complaint node. **Admin only.**",
        "operationId": "create_pricing_rule_api_v1_pricing_rules_post",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ComplaintPricingRuleCreate"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ComplaintPricingRuleRead"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "get": {
        "tags": [
          "pricing-rules"
        ],
        "summary": "List pricing rules",
        "description": "List all pricing rules with pagination. **Manager+ access.**",
        "operationId": "list_pricing_rules_api_v1_pricing_rules_get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "page",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "minimum": 1,
              "description": "Page number (1-indexed)",
              "default": 1,
              "title": "Page"
            },
            "description": "Page number (1-indexed)"
          },
          {
            "name": "page_size",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 100,
              "minimum": 1,
              "description": "Items per page (max 100)",
              "default": 20,
              "title": "Page Size"
            },
            "description": "Items per page (max 100)"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PaginatedResponse_ComplaintPricingRuleRead_"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/pricing-rules/{rule_id}": {
      "get": {
        "tags": [
          "pricing-rules"
        ],
        "summary": "Get pricing rule",
        "description": "Get a specific pricing rule by ID. **Manager+ access.**",
        "operationId": "get_pricing_rule_api_v1_pricing_rules__rule_id__get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "rule_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Rule Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ComplaintPricingRuleRead"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "patch": {
        "tags": [
          "pricing-rules"
        ],
        "summary": "Update pricing rule",
        "description": "Update an existing pricing rule. **Admin only.**",
        "operationId": "update_pricing_rule_api_v1_pricing_rules__rule_id__patch",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "rule_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Rule Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ComplaintPricingRuleUpdate"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ComplaintPricingRuleRead"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "pricing-rules"
        ],
        "summary": "Delete pricing rule",
        "description": "Soft-delete a pricing rule. **Admin only.**",
        "operationId": "delete_pricing_rule_api_v1_pricing_rules__rule_id__delete",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "rule_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Rule Id"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Successful Response"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/pricing-rules/complaint/{complaint_node_id}": {
      "get": {
        "tags": [
          "pricing-rules"
        ],
        "summary": "Get pricing rule by complaint node",
        "description": "Get pricing rule for a specific complaint node. **Manager+ access.**",
        "operationId": "get_pricing_rule_by_complaint_api_v1_pricing_rules_complaint__complaint_node_id__get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "complaint_node_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Complaint Node Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ComplaintPricingRuleRead"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/pricing-rules/bulk": {
      "post": {
        "tags": [
          "pricing-rules"
        ],
        "summary": "Bulk get pricing rules",
        "description": "Get pricing rules for multiple complaint nodes. **Manager+ access.**",
        "operationId": "bulk_get_pricing_rules_api_v1_pricing_rules_bulk_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/BulkPricingRulesRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "items": {
                    "$ref": "#/components/schemas/ComplaintPricingRuleRead"
                  },
                  "type": "array",
                  "title": "Response Bulk Get Pricing Rules Api V1 Pricing Rules Bulk Post"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ]
      }
    },
    "/api/v1/system/cleanup/preview": {
      "post": {
        "tags": [
          "system"
        ],
        "summary": "Preview cleanup candidates",
        "description": "Get a list of jobs that would be affected by attachment cleanup",
        "operationId": "preview_cleanup_api_v1_system_cleanup_preview_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CleanupPreviewRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CleanupPreviewResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ]
      }
    },
    "/api/v1/system/cleanup/run": {
      "post": {
        "tags": [
          "system"
        ],
        "summary": "Run attachment cleanup",
        "description": "Delete attachments from old completed/delivered jobs",
        "operationId": "run_cleanup_api_v1_system_cleanup_run_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CleanupRunRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CleanupResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ]
      }
    },
    "/api/v1/system/backup/run": {
      "post": {
        "tags": [
          "system"
        ],
        "summary": "Create database backup",
        "description": "Create a backup of the database with optional attachment archiving",
        "operationId": "run_backup_api_v1_system_backup_run_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/BackupRunRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/BackupResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ]
      }
    },
    "/api/v1/system/backup/list": {
      "get": {
        "tags": [
          "system"
        ],
        "summary": "List all backups",
        "description": "Get a list of all available database backups",
        "operationId": "list_backups_api_v1_system_backup_list_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/BackupListResponse"
                }
              }
            }
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ]
      }
    },
    "/api/v1/system/backup/download/{filename}": {
      "get": {
        "tags": [
          "system"
        ],
        "summary": "Download backup file",
        "description": "Download a specific backup file",
        "operationId": "download_backup_api_v1_system_backup_download__filename__get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "filename",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Filename"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/system/backup/{filename}": {
      "delete": {
        "tags": [
          "system"
        ],
        "summary": "Delete backup file",
        "description": "Delete a specific backup file",
        "operationId": "delete_backup_api_v1_system_backup__filename__delete",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "filename",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Filename"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Successful Response"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/system/workers/status": {
      "get": {
        "tags": [
          "system"
        ],
        "summary": "Get worker status",
        "description": "Get the status of scheduled background workers",
        "operationId": "get_worker_status_api_v1_system_workers_status_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/WorkerStatusResponse"
                }
              }
            }
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ]
      }
    },
    "/": {
      "get": {
        "summary": "Root",
        "description": "Root endpoint.",
        "operationId": "root__get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {

                }
              }
            }
          }
        }
      }
    }
  },
  "components": {
    "schemas": {
      "AttachmentUploadResponse": {
        "properties": {
          "id": {
            "title": "Id",
            "description": "Unique identifier for the uploaded attachment",
            "examples": [42, 123]
          },
          "file_name": {
            "title": "File Name",
            "description": "Original filename as uploaded",
            "examples": [
              "rolex-submariner-front.jpg"
            ]
          },
          "mime_type": {
            "title": "Mime Type",
            "description": "Detected MIME type of the file",
            "examples": [
              "image/jpeg"
            ]
          },
          "file_size_bytes": {
            "title": "File Size Bytes",
            "description": "File size in bytes",
            "examples": [2458624]
          },
          "created_at": {
            "title": "Created At",
            "description": "Timestamp when the file was uploaded",
            "examples": [
              "2024-01-15T10:30:00Z"
            ]
          },
          "message": {
            "title": "Message",
            "description": "Success message",
            "examples": [
              "File uploaded successfully"
            ]
          }
        },
        "type": "object",
        "required": [
          "id",
          "file_name",
          "created_at"
        ],
        "title": "AttachmentUploadResponse",
        "description": "Response after successful file upload. Does not include storage_path for security reasons.",
        "examples": [
          {
            "created_at": "2024-01-15T10:30:00Z",
            "file_name": "rolex-submariner-front.jpg",
            "file_size_bytes": 2458624,
            "id": 42,
            "message": "File uploaded successfully",
            "mime_type": "image/jpeg"
          },
          {
            "created_at": "2024-01-15T10:35:00Z",
            "file_name": "warranty-certificate.pdf",
            "file_size_bytes": 512000,
            "id": 43,
            "message": "File uploaded successfully",
            "mime_type": "application/pdf"
          }
        ]
      },
      "AuditChangeDetail": {
        "properties": {
          "field": {
            "type": "string",
            "title": "Field",
            "description": "Display name of the field that changed"
          },
          "old_value": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Old Value",
            "description": "Previous value (human-readable)"
          },
          "new_value": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "New Value",
            "description": "New value (human-readable)"
          }
        },
        "type": "object",
        "required": [
          "field"
        ],
        "title": "AuditChangeDetail",
        "description": "Details of a field change in an audit event"
      },
      "AuditEventResponse": {
        "properties": {
          "id": {
            "type": "integer",
            "title": "Id",
            "description": "Unique audit event ID"
          },
          "user_id": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "User Id",
            "description": "ID of user who performed the action (null for system actions)"
          },
          "user_name": {
            "type": "string",
            "title": "User Name",
            "description": "Name of user who performed the action (or 'System')"
          },
          "entity_type": {
            "type": "string",
            "title": "Entity Type",
            "description": "Type of entity (e.g., 'jobs', 'indents', 'spare_parts')"
          },
          "entity_id": {
            "type": "integer",
            "title": "Entity Id",
            "description": "ID of the entity that was modified"
          },
          "action": {
            "type": "string",
            "title": "Action",
            "description": "Action type: 'create', 'update', 'delete', 'status_change', 'delay_added', 'restore'"
          },
          "summary": {
            "type": "string",
            "title": "Summary",
            "description": "Human-readable summary of the action (e.g., 'Created Job 2024/001')"
          },
          "change_details": {
            "items": {
              "$ref": "#/components/schemas/AuditChangeDetail"
            },
            "type": "array",
            "title": "Change Details",
            "description": "List of field changes with old/new values"
          },
          "changes": {
            "additionalProperties": true,
            "type": "object",
            "title": "Changes",
            "description": "Raw changes data for advanced processing"
          },
          "metadata": {
            "additionalProperties": true,
            "type": "object",
            "title": "Metadata",
            "description": "Additional context (e.g., IP address, user agent)"
          },
          "created_at": {
            "type": "string",
            "format": "date-time",
            "title": "Created At",
            "description": "Timestamp when the action occurred"
          }
        },
        "type": "object",
        "required": [
          "id",
          "user_name",
          "entity_type",
          "entity_id",
          "action",
          "summary",
          "change_details",
          "changes",
          "metadata",
          "created_at"
        ],
        "title": "AuditEventResponse",
        "description": "Humanized audit event response.\n\nEach audit event represents a single action (create/update/delete) on an entity.\nThe response is pre-formatted for display, with human-readable summaries and change details.",
        "example": {
          "action": "status_change",
          "change_details": [
            {
              "field": "Status",
              "new_value": "In Progress",
              "old_value": "Pending"
            }
          ],
          "changes": {
            "identifier": "2024/001",
            "status": {
              "new": "in_progress",
              "old": "pending"
            }
          },
          "created_at": "2024-12-14T10:30:00Z",
          "entity_id": 42,
          "entity_type": "jobs",
          "id": 123,
          "metadata": {
            "ip_address": "192.168.1.1",
            "user_agent": "Mozilla/5.0..."
          },
          "summary": "Changed status from Pending to In Progress",
          "user_id": 5,
          "user_name": "John Doe"
        }
      },
      "AvailableReportsResponse": {
        "properties": {
          "date_wise": {
            "title": "Date Wise",
            "description": "Date-wise report types"
          },
          "delay": {
            "description": "Delay report information"
          }
        },
        "type": "object",
        "required": [
          "date_wise",
          "delay"
        ],
        "title": "AvailableReportsResponse",
        "description": "Response listing available report types."
      },
      "BackupInfo": {
        "properties": {
          "filename": {
            "type": "string",
            "title": "Filename"
          },
          "file_size_mb": {
            "type": "number",
            "title": "File Size Mb"
          },
          "created_at": {
            "type": "string",
            "title": "Created At"
          }
        },
        "type": "object",
        "required": [
          "filename",
          "file_size_mb",
          "created_at"
        ],
        "title": "BackupInfo",
        "description": "Information about a backup file"
      },
      "BackupListResponse": {
        "properties": {
          "total": {
            "type": "integer",
            "title": "Total"
          },
          "backups": {
            "items": {
              "$ref": "#/components/schemas/BackupInfo"
            },
            "type": "array",
            "title": "Backups"
          }
        },
        "type": "object",
        "required": [
          "total",
          "backups"
        ],
        "title": "BackupListResponse",
        "description": "Response for listing backups"
      },
      "BackupResponse": {
        "properties": {
          "success": {
            "type": "boolean",
            "title": "Success"
          },
          "backup_path": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Backup Path"
          },
          "file_size_mb": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "File Size Mb"
          },
          "duration_seconds": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Duration Seconds"
          },
          "error_message": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Error Message"
          }
        },
        "type": "object",
        "required": [
          "success"
        ],
        "title": "BackupResponse",
        "description": "Response for backup operation"
      },
      "BackupRunRequest": {
        "properties": {
          "include_attachments": {
            "anyOf": [
              {
                "type": "boolean"
              },
              {
                "type": "null"
              }
            ],
            "title": "Include Attachments",
            "description": "Include uploads directory in backup. Defaults to system setting."
          }
        },
        "type": "object",
        "title": "BackupRunRequest",
        "description": "Request for creating a backup"
      },
      "Body_upload_complaint_attachment_api_v1_watches_complaints__complaint_id__attachments_post": {
        "properties": {
          "file": {
            "type": "string",
            "format": "binary",
            "title": "File",
            "description": "File to upload (max 10MB)"
          }
        },
        "type": "object",
        "required": [
          "file"
        ],
        "title": "Body_upload_complaint_attachment_api_v1_watches_complaints__complaint_id__attachments_post"
      },
      "Body_upload_condition_attachment_api_v1_watches_conditions__condition_id__attachments_post": {
        "properties": {
          "file": {
            "type": "string",
            "format": "binary",
            "title": "File",
            "description": "File to upload (max 10MB)"
          }
        },
        "type": "object",
        "required": [
          "file"
        ],
        "title": "Body_upload_condition_attachment_api_v1_watches_conditions__condition_id__attachments_post"
      },
      "Body_upload_watch_attachment_api_v1_watches__watch_id__attachments_post": {
        "properties": {
          "file": {
            "type": "string",
            "format": "binary",
            "title": "File",
            "description": "File to upload (max 10MB)"
          }
        },
        "type": "object",
        "required": [
          "file"
        ],
        "title": "Body_upload_watch_attachment_api_v1_watches__watch_id__attachments_post"
      },
      "BrandCreate": {
        "properties": {
          "name": {
            "type": "string",
            "maxLength": 255,
            "minLength": 1,
            "title": "Name"
          },
          "description": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Description"
          }
        },
        "type": "object",
        "required": [
          "name"
        ],
        "title": "BrandCreate",
        "description": "Schema for creating a new brand."
      },
      "BrandList": {
        "properties": {
          "id": {
            "title": "Id"
          },
          "name": {
            "title": "Name"
          }
        },
        "type": "object",
        "required": [
          "id",
          "name"
        ],
        "title": "BrandList",
        "description": "Simplified schema for brand lists."
      },
      "BrandRead": {
        "properties": {
          "name": {
            "title": "Name"
          },
          "description": {
            "title": "Description"
          },
          "id": {
            "title": "Id"
          },
          "created_at": {
            "title": "Created At"
          },
          "updated_at": {
            "title": "Updated At"
          }
        },
        "type": "object",
        "required": [
          "name",
          "id",
          "created_at",
          "updated_at"
        ],
        "title": "BrandRead",
        "description": "Schema for reading brand data."
      },
      "BrandUpdate": {
        "properties": {
          "name": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 255,
                "minLength": 1
              },
              {
                "type": "null"
              }
            ],
            "title": "Name"
          },
          "description": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Description"
          }
        },
        "type": "object",
        "title": "BrandUpdate",
        "description": "Schema for updating a brand (all fields optional)."
      },
      "BulkPricingRulesRequest": {
        "properties": {
          "complaint_node_ids": {
            "items": {
              "type": "integer"
            },
            "type": "array",
            "minItems": 1,
            "title": "Complaint Node Ids",
            "description": "List of complaint node IDs to fetch pricing rules for"
          }
        },
        "type": "object",
        "required": [
          "complaint_node_ids"
        ],
        "title": "BulkPricingRulesRequest",
        "description": "Request for bulk fetching pricing rules.",
        "examples": [
          {
            "complaint_node_ids": [1, 2, 3, 5, 6]
          }
        ]
      },
      "CleanupCandidate": {
        "properties": {
          "job_id": {
            "type": "integer",
            "title": "Job Id"
          },
          "job_number": {
            "type": "string",
            "title": "Job Number"
          },
          "status": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Status"
          },
          "completed_at": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Completed At"
          },
          "delivered_at": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Delivered At"
          },
          "attachment_count": {
            "type": "integer",
            "title": "Attachment Count"
          }
        },
        "type": "object",
        "required": [
          "job_id",
          "job_number",
          "status",
          "completed_at",
          "delivered_at",
          "attachment_count"
        ],
        "title": "CleanupCandidate",
        "description": "A job eligible for cleanup"
      },
      "CleanupPreviewRequest": {
        "properties": {
          "retention_days": {
            "anyOf": [
              {
                "type": "integer",
                "maximum": 365,
                "minimum": 1
              },
              {
                "type": "null"
              }
            ],
            "title": "Retention Days",
            "description": "Number of days to retain attachments. Defaults to system setting."
          }
        },
        "type": "object",
        "title": "CleanupPreviewRequest",
        "description": "Request for previewing cleanup candidates"
      },
      "CleanupPreviewResponse": {
        "properties": {
          "retention_days": {
            "type": "integer",
            "title": "Retention Days"
          },
          "cutoff_date": {
            "type": "string",
            "title": "Cutoff Date"
          },
          "total_jobs": {
            "type": "integer",
            "title": "Total Jobs"
          },
          "candidates": {
            "items": {
              "$ref": "#/components/schemas/CleanupCandidate"
            },
            "type": "array",
            "title": "Candidates"
          }
        },
        "type": "object",
        "required": [
          "retention_days",
          "cutoff_date",
          "total_jobs",
          "candidates"
        ],
        "title": "CleanupPreviewResponse",
        "description": "Response for cleanup preview"
      },
      "CleanupResponse": {
        "properties": {
          "success": {
            "type": "boolean",
            "title": "Success"
          },
          "files_deleted": {
            "type": "integer",
            "title": "Files Deleted"
          },
          "space_freed_mb": {
            "type": "number",
            "title": "Space Freed Mb"
          },
          "jobs_processed": {
            "type": "integer",
            "title": "Jobs Processed"
          },
          "duration_seconds": {
            "type": "number",
            "title": "Duration Seconds"
          },
          "error_message": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Error Message"
          },
          "errors": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Errors"
          }
        },
        "type": "object",
        "required": [
          "success",
          "files_deleted",
          "space_freed_mb",
          "jobs_processed",
          "duration_seconds"
        ],
        "title": "CleanupResponse",
        "description": "Response for cleanup operation"
      },
      "CleanupRunRequest": {
        "properties": {
          "retention_days": {
            "anyOf": [
              {
                "type": "integer",
                "maximum": 365,
                "minimum": 1
              },
              {
                "type": "null"
              }
            ],
            "title": "Retention Days",
            "description": "Number of days to retain attachments. Defaults to system setting."
          },
          "job_id": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Job Id",
            "description": "If provided, only clean up this specific job"
          }
        },
        "type": "object",
        "title": "CleanupRunRequest",
        "description": "Request for running cleanup"
      },
      "ComplaintNodeCreate": {
        "properties": {
          "label": {
            "type": "string",
            "maxLength": 500,
            "minLength": 1,
            "title": "Label",
            "description": "Complaint label"
          },
          "code": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 100
              },
              {
                "type": "null"
              }
            ],
            "title": "Code",
            "description": "Internal code"
          },
          "parent_id": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Parent Id",
            "description": "Parent node ID for hierarchical structure"
          },
          "sort_order": {
            "type": "integer",
            "title": "Sort Order",
            "description": "Display order",
            "default": 0
          },
          "effective_from": {
            "anyOf": [
              {
                "type": "string",
                "format": "date"
              },
              {
                "type": "null"
              }
            ],
            "title": "Effective From",
            "description": "Date from which this node becomes available"
          },
          "effective_to": {
            "anyOf": [
              {
                "type": "string",
                "format": "date"
              },
              {
                "type": "null"
              }
            ],
            "title": "Effective To",
            "description": "Date after which this node is no longer available"
          },
          "default_spare_part_id": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Default Spare Part Id",
            "description": "Default spare part ID for this complaint (leaf nodes only)"
          }
        },
        "type": "object",
        "required": [
          "label"
        ],
        "title": "ComplaintNodeCreate",
        "description": "Schema for creating a complaint node."
      },
      "ComplaintNodeList": {
        "properties": {
          "id": {
            "title": "Id"
          },
          "label": {
            "title": "Label"
          },
          "code": {
            "title": "Code"
          },
          "parent_id": {
            "title": "Parent Id"
          },
          "sort_order": {
            "title": "Sort Order"
          },
          "effective_from": {
            "title": "Effective From"
          },
          "effective_to": {
            "title": "Effective To"
          },
          "default_spare_part_id": {
            "title": "Default Spare Part Id"
          },
          "is_available": {
            "title": "Is Available",
            "description": "Whether node is currently available"
          },
          "children": {
            "title": "Children"
          }
        },
        "type": "object",
        "required": [
          "id",
          "label",
          "sort_order"
        ],
        "title": "ComplaintNodeList",
        "description": "Schema for complaint node list with children."
      },
      "ComplaintNodeRead": {
        "properties": {
          "label": {
            "title": "Label",
            "description": "Complaint label"
          },
          "code": {
            "title": "Code",
            "description": "Internal code"
          },
          "parent_id": {
            "title": "Parent Id",
            "description": "Parent node ID for hierarchical structure"
          },
          "sort_order": {
            "title": "Sort Order",
            "description": "Display order"
          },
          "effective_from": {
            "title": "Effective From",
            "description": "Date from which this node becomes available"
          },
          "effective_to": {
            "title": "Effective To",
            "description": "Date after which this node is no longer available"
          },
          "default_spare_part_id": {
            "title": "Default Spare Part Id",
            "description": "Default spare part ID for this complaint (leaf nodes only)"
          },
          "id": {
            "title": "Id"
          },
          "created_at": {
            "title": "Created At"
          },
          "updated_at": {
            "title": "Updated At"
          },
          "deleted_at": {
            "title": "Deleted At"
          },
          "parent_label": {
            "title": "Parent Label",
            "description": "Label of the parent node if exists"
          },
          "is_leaf": {
            "title": "Is Leaf",
            "description": "Whether this node is a leaf node (has no children)"
          },
          "default_spare_part": {
            "description": "Default spare part details if configured"
          }
        },
        "type": "object",
        "required": [
          "label",
          "id",
          "created_at",
          "updated_at"
        ],
        "title": "ComplaintNodeRead",
        "description": "Schema for reading a complaint node."
      },
      "ComplaintNodeUpdate": {
        "properties": {
          "label": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 500,
                "minLength": 1
              },
              {
                "type": "null"
              }
            ],
            "title": "Label"
          },
          "code": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 100
              },
              {
                "type": "null"
              }
            ],
            "title": "Code"
          },
          "parent_id": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Parent Id"
          },
          "sort_order": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Sort Order"
          },
          "effective_from": {
            "anyOf": [
              {
                "type": "string",
                "format": "date"
              },
              {
                "type": "null"
              }
            ],
            "title": "Effective From"
          },
          "effective_to": {
            "anyOf": [
              {
                "type": "string",
                "format": "date"
              },
              {
                "type": "null"
              }
            ],
            "title": "Effective To"
          },
          "default_spare_part_id": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Default Spare Part Id"
          }
        },
        "type": "object",
        "title": "ComplaintNodeUpdate",
        "description": "Schema for updating a complaint node."
      },
      "ComplaintPricingRuleCreate": {
        "properties": {
          "complaint_node_id": {
            "type": "integer",
            "exclusiveMinimum": 0,
            "title": "Complaint Node Id",
            "description": "ID of the complaint node (must be a root node)"
          },
          "price_percentage": {
            "anyOf": [
              {
                "type": "number",
                "maximum": 100,
                "minimum": 0
              },
              {
                "type": "string",
                "pattern": "^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d{0,2}0*$"
              },
              {
                "type": "null"
              }
            ],
            "title": "Price Percentage",
            "description": "Price/parts percentage (0-100). NULL means no parts cost."
          },
          "labour_percentage": {
            "anyOf": [
              {
                "type": "number",
                "maximum": 100,
                "minimum": 0
              },
              {
                "type": "string",
                "pattern": "^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d{0,2}0*$"
              },
              {
                "type": "null"
              }
            ],
            "title": "Labour Percentage",
            "description": "Labour percentage (0-100). NULL means no labour cost."
          }
        },
        "type": "object",
        "required": [
          "complaint_node_id"
        ],
        "title": "ComplaintPricingRuleCreate",
        "description": "Schema for creating a complaint pricing rule.",
        "examples": [
          {
            "complaint_node_id": 1,
            "labour_percentage": 10,
            "price_percentage": 35
          },
          {
            "complaint_node_id": 2,
            "labour_percentage": 30
          }
        ]
      },
      "ComplaintPricingRuleRead": {
        "properties": {
          "complaint_node_id": {
            "title": "Complaint Node Id",
            "description": "ID of the complaint node (must be a root node)"
          },
          "price_percentage": {
            "title": "Price Percentage",
            "description": "Price/parts percentage (0-100). NULL means no parts cost."
          },
          "labour_percentage": {
            "title": "Labour Percentage",
            "description": "Labour percentage (0-100). NULL means no labour cost."
          },
          "id": {
            "title": "Id",
            "description": "Pricing rule ID"
          },
          "complaint_node_label": {
            "title": "Complaint Node Label",
            "description": "Label of the complaint node (denormalized for convenience)"
          },
          "created_at": {
            "title": "Created At",
            "description": "Creation timestamp"
          },
          "updated_at": {
            "title": "Updated At",
            "description": "Last update timestamp"
          }
        },
        "type": "object",
        "required": [
          "complaint_node_id",
          "id",
          "created_at",
          "updated_at"
        ],
        "title": "ComplaintPricingRuleRead",
        "description": "Schema for reading a complaint pricing rule.",
        "examples": [
          {
            "complaint_node_id": 5,
            "complaint_node_label": "Case",
            "created_at": "2024-12-10T10:00:00Z",
            "id": 1,
            "labour_percentage": 10,
            "price_percentage": 35,
            "updated_at": "2024-12-10T10:00:00Z"
          }
        ]
      },
      "ComplaintPricingRuleUpdate": {
        "properties": {
          "price_percentage": {
            "anyOf": [
              {
                "type": "number",
                "maximum": 100,
                "minimum": 0
              },
              {
                "type": "string",
                "pattern": "^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d{0,2}0*$"
              },
              {
                "type": "null"
              }
            ],
            "title": "Price Percentage",
            "description": "Price/parts percentage (0-100). NULL means no parts cost."
          },
          "labour_percentage": {
            "anyOf": [
              {
                "type": "number",
                "maximum": 100,
                "minimum": 0
              },
              {
                "type": "string",
                "pattern": "^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d{0,2}0*$"
              },
              {
                "type": "null"
              }
            ],
            "title": "Labour Percentage",
            "description": "Labour percentage (0-100). NULL means no labour cost."
          }
        },
        "type": "object",
        "title": "ComplaintPricingRuleUpdate",
        "description": "Schema for updating a complaint pricing rule."
      },
      "ConditionNodeCreate": {
        "properties": {
          "label": {
            "type": "string",
            "maxLength": 500,
            "minLength": 1,
            "title": "Label",
            "description": "Condition label"
          },
          "code": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 100
              },
              {
                "type": "null"
              }
            ],
            "title": "Code",
            "description": "Internal code"
          },
          "parent_id": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Parent Id",
            "description": "Parent node ID for hierarchical structure"
          },
          "sort_order": {
            "type": "integer",
            "title": "Sort Order",
            "description": "Display order",
            "default": 0
          },
          "effective_from": {
            "anyOf": [
              {
                "type": "string",
                "format": "date"
              },
              {
                "type": "null"
              }
            ],
            "title": "Effective From",
            "description": "Date from which this node becomes available"
          },
          "effective_to": {
            "anyOf": [
              {
                "type": "string",
                "format": "date"
              },
              {
                "type": "null"
              }
            ],
            "title": "Effective To",
            "description": "Date after which this node is no longer available"
          }
        },
        "type": "object",
        "required": [
          "label"
        ],
        "title": "ConditionNodeCreate",
        "description": "Schema for creating a condition node."
      },
      "ConditionNodeList": {
        "properties": {
          "id": {
            "title": "Id"
          },
          "label": {
            "title": "Label"
          },
          "code": {
            "title": "Code"
          },
          "parent_id": {
            "title": "Parent Id"
          },
          "sort_order": {
            "title": "Sort Order"
          },
          "effective_from": {
            "title": "Effective From"
          },
          "effective_to": {
            "title": "Effective To"
          },
          "is_available": {
            "title": "Is Available",
            "description": "Whether node is currently available"
          },
          "children": {
            "title": "Children"
          }
        },
        "type": "object",
        "required": [
          "id",
          "label",
          "sort_order"
        ],
        "title": "ConditionNodeList",
        "description": "Schema for condition node list with children."
      },
      "ConditionNodeRead": {
        "properties": {
          "label": {
            "title": "Label",
            "description": "Condition label"
          },
          "code": {
            "title": "Code",
            "description": "Internal code"
          },
          "parent_id": {
            "title": "Parent Id",
            "description": "Parent node ID for hierarchical structure"
          },
          "sort_order": {
            "title": "Sort Order",
            "description": "Display order"
          },
          "effective_from": {
            "title": "Effective From",
            "description": "Date from which this node becomes available"
          },
          "effective_to": {
            "title": "Effective To",
            "description": "Date after which this node is no longer available"
          },
          "id": {
            "title": "Id"
          },
          "created_at": {
            "title": "Created At"
          },
          "updated_at": {
            "title": "Updated At"
          },
          "deleted_at": {
            "title": "Deleted At"
          },
          "parent_label": {
            "title": "Parent Label",
            "description": "Label of the parent node if exists"
          }
        },
        "type": "object",
        "required": [
          "label",
          "id",
          "created_at",
          "updated_at"
        ],
        "title": "ConditionNodeRead",
        "description": "Schema for reading a condition node."
      },
      "ConditionNodeUpdate": {
        "properties": {
          "label": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 500,
                "minLength": 1
              },
              {
                "type": "null"
              }
            ],
            "title": "Label"
          },
          "code": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 100
              },
              {
                "type": "null"
              }
            ],
            "title": "Code"
          },
          "parent_id": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Parent Id"
          },
          "sort_order": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Sort Order"
          },
          "effective_from": {
            "anyOf": [
              {
                "type": "string",
                "format": "date"
              },
              {
                "type": "null"
              }
            ],
            "title": "Effective From"
          },
          "effective_to": {
            "anyOf": [
              {
                "type": "string",
                "format": "date"
              },
              {
                "type": "null"
              }
            ],
            "title": "Effective To"
          }
        },
        "type": "object",
        "title": "ConditionNodeUpdate",
        "description": "Schema for updating a condition node."
      },
      "CustomerCreate": {
        "properties": {
          "name": {
            "type": "string",
            "maxLength": 255,
            "minLength": 1,
            "title": "Name"
          },
          "contact_number": {
            "type": "string",
            "maxLength": 20,
            "minLength": 1,
            "title": "Contact Number"
          },
          "address": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Address"
          },
          "city": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "City"
          },
          "state": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "State"
          },
          "country": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Country"
          },
          "postal_code": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Postal Code"
          },
          "email": {
            "anyOf": [
              {
                "type": "string",
                "format": "email"
              },
              {
                "type": "null"
              }
            ],
            "title": "Email"
          },
          "date_of_birth": {
            "anyOf": [
              {
                "type": "string",
                "format": "date"
              },
              {
                "type": "null"
              }
            ],
            "title": "Date Of Birth"
          },
          "gender": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 50
              },
              {
                "type": "null"
              }
            ],
            "title": "Gender"
          }
        },
        "type": "object",
        "required": [
          "name",
          "contact_number"
        ],
        "title": "CustomerCreate",
        "description": "Schema for creating a new customer."
      },
      "CustomerDetail": {
        "properties": {
          "name": {
            "title": "Name"
          },
          "contact_number": {
            "title": "Contact Number"
          },
          "address": {
            "title": "Address"
          },
          "city": {
            "title": "City"
          },
          "state": {
            "title": "State"
          },
          "country": {
            "title": "Country"
          },
          "postal_code": {
            "title": "Postal Code"
          },
          "email": {
            "title": "Email"
          },
          "date_of_birth": {
            "title": "Date Of Birth"
          },
          "gender": {
            "title": "Gender"
          },
          "id": {
            "title": "Id"
          },
          "created_at": {
            "title": "Created At"
          },
          "updated_at": {
            "title": "Updated At"
          },
          "jobs": {
            "title": "Jobs"
          }
        },
        "type": "object",
        "required": [
          "name",
          "contact_number",
          "id",
          "created_at",
          "updated_at"
        ],
        "title": "CustomerDetail",
        "description": "Detailed customer schema with related jobs.\n\nUse this for single customer detail view to include all job history.\nRequires eager loading of jobs relationship.",
        "example": {
          "address": "123 Main Street, Apartment 4B",
          "city": "Mumbai",
          "contact_number": "+1234567890",
          "country": "India",
          "created_at": "2025-01-01T10:00:00Z",
          "date_of_birth": "1985-05-15",
          "email": "john.doe@example.com",
          "gender": "Male",
          "id": 123,
          "jobs": [
            {
              "created_at": "2025-12-10T10:00:00Z",
              "estimated_cost": 5000,
              "estimated_delivery_date": "2025-12-25",
              "id": 1,
              "job_number": "JOB-2025-0001",
              "status": "booked"
            },
            {
              "actual_cost": 4200,
              "completed_at": "2025-12-12T15:30:00Z",
              "created_at": "2025-12-01T09:00:00Z",
              "estimated_cost": 4500,
              "estimated_delivery_date": "2025-12-15",
              "id": 2,
              "job_number": "JOB-2025-0002",
              "status": "completed"
            },
            {
              "actual_cost": 3500,
              "completed_at": "2024-11-08T14:00:00Z",
              "created_at": "2024-11-01T08:00:00Z",
              "delivered_at": "2024-11-12T10:30:00Z",
              "estimated_cost": 3500,
              "estimated_delivery_date": "2024-11-10",
              "id": 3,
              "job_number": "JOB-2024-0156",
              "status": "delivered"
            }
          ],
          "name": "John Doe",
          "postal_code": "400001",
          "state": "Maharashtra",
          "updated_at": "2025-12-10T15:30:00Z"
        }
      },
      "CustomerInJob": {
        "properties": {
          "id": {
            "title": "Id"
          },
          "name": {
            "title": "Name"
          },
          "contact_number": {
            "title": "Contact Number"
          },
          "email": {
            "title": "Email"
          },
          "city": {
            "title": "City"
          }
        },
        "type": "object",
        "required": [
          "id",
          "name",
          "contact_number",
          "email",
          "city"
        ],
        "title": "CustomerInJob",
        "description": "Lightweight customer schema for nested job responses."
      },
      "CustomerRead": {
        "properties": {
          "name": {
            "title": "Name"
          },
          "contact_number": {
            "title": "Contact Number"
          },
          "address": {
            "title": "Address"
          },
          "city": {
            "title": "City"
          },
          "state": {
            "title": "State"
          },
          "country": {
            "title": "Country"
          },
          "postal_code": {
            "title": "Postal Code"
          },
          "email": {
            "title": "Email"
          },
          "date_of_birth": {
            "title": "Date Of Birth"
          },
          "gender": {
            "title": "Gender"
          },
          "id": {
            "title": "Id"
          },
          "created_at": {
            "title": "Created At"
          },
          "updated_at": {
            "title": "Updated At"
          }
        },
        "type": "object",
        "required": [
          "name",
          "contact_number",
          "id",
          "created_at",
          "updated_at"
        ],
        "title": "CustomerRead",
        "description": "Schema for reading customer data."
      },
      "CustomerUpdate": {
        "properties": {
          "name": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 255,
                "minLength": 1
              },
              {
                "type": "null"
              }
            ],
            "title": "Name"
          },
          "contact_number": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 20,
                "minLength": 1
              },
              {
                "type": "null"
              }
            ],
            "title": "Contact Number"
          },
          "address": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Address"
          },
          "city": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "City"
          },
          "state": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "State"
          },
          "country": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Country"
          },
          "postal_code": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Postal Code"
          },
          "email": {
            "anyOf": [
              {
                "type": "string",
                "format": "email"
              },
              {
                "type": "null"
              }
            ],
            "title": "Email"
          },
          "date_of_birth": {
            "anyOf": [
              {
                "type": "string",
                "format": "date"
              },
              {
                "type": "null"
              }
            ],
            "title": "Date Of Birth"
          },
          "gender": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 50
              },
              {
                "type": "null"
              }
            ],
            "title": "Gender"
          }
        },
        "type": "object",
        "title": "CustomerUpdate",
        "description": "Schema for updating a customer (all fields optional)."
      },
      "DashboardStatistics": {
        "properties": {
          "total_active_jobs": {
            "title": "Total Active Jobs",
            "description": "Total active jobs (not delivered or cancelled)"
          },
          "in_progress": {
            "title": "In Progress",
            "description": "Jobs in progress (booked, indented, parts received)"
          },
          "ready_for_delivery": {
            "title": "Ready For Delivery",
            "description": "Jobs completed and ready for delivery"
          },
          "completed_today": {
            "title": "Completed Today",
            "description": "Jobs completed today"
          }
        },
        "type": "object",
        "required": [
          "total_active_jobs",
          "in_progress",
          "ready_for_delivery",
          "completed_today"
        ],
        "title": "DashboardStatistics",
        "description": "Dashboard statistics for jobs overview.",
        "example": {
          "completed_today": 12,
          "in_progress": 24,
          "ready_for_delivery": 12,
          "total_active_jobs": 12
        }
      },
      "DateWiseReportFilters": {
        "properties": {
          "report_type": {
            "$ref": "#/components/schemas/DateWiseReportType",
            "description": "Type of date-wise report to generate"
          },
          "date_from": {
            "anyOf": [
              {
                "type": "string",
                "format": "date"
              },
              {
                "type": "null"
              }
            ],
            "title": "Date From",
            "description": "Start date for the report (required for repair_status, indent_status, delivered)"
          },
          "date_to": {
            "anyOf": [
              {
                "type": "string",
                "format": "date"
              },
              {
                "type": "null"
              }
            ],
            "title": "Date To",
            "description": "End date for the report (required for repair_status, indent_status, delivered)"
          },
          "customer_id": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Customer Id",
            "description": "Filter by specific customer ID"
          },
          "brand_id": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Brand Id",
            "description": "Filter by specific brand ID"
          }
        },
        "type": "object",
        "required": [
          "report_type"
        ],
        "title": "DateWiseReportFilters",
        "description": "Filters for date-wise reports."
      },
      "DateWiseReportType": {
        "type": "string",
        "enum": [
          "pending_repair",
          "repair_status",
          "indent_status",
          "delivered"
        ],
        "title": "DateWiseReportType",
        "description": "Types of date-wise reports available."
      },
      "DelayReportFilters": {
        "properties": {
          "min_delay_days": {
            "type": "integer",
            "minimum": 1,
            "title": "Min Delay Days",
            "description": "Minimum number of days delayed (default: 15)",
            "default": 15
          },
          "customer_id": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Customer Id",
            "description": "Filter by specific customer ID"
          },
          "brand_id": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Brand Id",
            "description": "Filter by specific brand ID"
          },
          "include_cancelled": {
            "type": "boolean",
            "title": "Include Cancelled",
            "description": "Include cancelled jobs in the report",
            "default": false
          }
        },
        "type": "object",
        "title": "DelayReportFilters",
        "description": "Filters for delay report."
      },
      "ErrorDetail": {
        "properties": {
          "detail": {
            "type": "string",
            "title": "Detail",
            "description": "Human-readable error message",
            "examples": [
              "Watch with ID 123 not found"
            ]
          }
        },
        "type": "object",
        "required": [
          "detail"
        ],
        "title": "ErrorDetail",
        "description": "Standard error detail structure.",
        "examples": [
          {
            "detail": "Watch with ID 123 not found"
          },
          {
            "detail": "File size exceeds maximum allowed size of 10MB"
          },
          {
            "detail": "Unsupported file type. Allowed types: image/jpeg, image/png, image/webp, image/gif, application/pdf"
          }
        ]
      },
      "EstimateBreakdown": {
        "properties": {
          "ucp_rate": {
            "title": "Ucp Rate",
            "description": "Unit Customer Price (UCP) rate"
          },
          "total_parts_cost": {
            "title": "Total Parts Cost",
            "description": "Total parts/price cost"
          },
          "total_labour_cost": {
            "title": "Total Labour Cost",
            "description": "Total labour cost"
          },
          "estimated_total": {
            "title": "Estimated Total",
            "description": "Total estimated cost"
          },
          "breakdown": {
            "title": "Breakdown",
            "description": "Detailed breakdown by complaint category"
          },
          "max_estimated_delivery_days": {
            "title": "Max Estimated Delivery Days",
            "description": "Maximum estimated delivery days from complaints with indent_required=True"
          }
        },
        "type": "object",
        "required": [
          "ucp_rate",
          "total_parts_cost",
          "total_labour_cost",
          "estimated_total",
          "breakdown"
        ],
        "title": "EstimateBreakdown",
        "description": "Complete pricing breakdown for a job estimate.",
        "examples": [
          {
            "breakdown": [
              {
                "complaint_label": "Case",
                "complaint_node_id": 5,
                "labour_cost": 100,
                "parts_cost": 350,
                "subtotal": 450
              },
              {
                "complaint_label": "Glass",
                "complaint_node_id": 6,
                "labour_cost": 50,
                "parts_cost": 120,
                "subtotal": 170
              }
            ],
            "estimated_total": 620,
            "max_estimated_delivery_days": 30,
            "total_labour_cost": 150,
            "total_parts_cost": 470,
            "ucp_rate": 1000
          }
        ]
      },
      "HTTPValidationError": {
        "properties": {
          "detail": {
            "items": {
              "$ref": "#/components/schemas/ValidationError"
            },
            "type": "array",
            "title": "Detail"
          }
        },
        "type": "object",
        "title": "HTTPValidationError"
      },
      "IndentCreate": {
        "properties": {
          "job_id": {
            "anyOf": [
              {
                "type": "integer",
                "exclusiveMinimum": 0
              },
              {
                "type": "null"
              }
            ],
            "title": "Job Id",
            "description": "Job ID"
          },
          "supplier_id": {
            "anyOf": [
              {
                "type": "integer",
                "exclusiveMinimum": 0
              },
              {
                "type": "null"
              }
            ],
            "title": "Supplier Id",
            "description": "Supplier ID"
          },
          "notes": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Notes"
          }
        },
        "type": "object",
        "title": "IndentCreate",
        "description": "Schema for creating a new indent."
      },
      "IndentPartCreate": {
        "properties": {
          "spare_part_id": {
            "type": "integer",
            "exclusiveMinimum": 0,
            "title": "Spare Part Id",
            "description": "Spare part ID"
          },
          "quantity": {
            "anyOf": [
              {
                "type": "integer",
                "minimum": 1
              },
              {
                "type": "null"
              }
            ],
            "title": "Quantity",
            "description": "Quantity",
            "default": 1
          }
        },
        "type": "object",
        "required": [
          "spare_part_id"
        ],
        "title": "IndentPartCreate",
        "description": "Schema for adding a spare part to an indent."
      },
      "IndentPartUpdate": {
        "properties": {
          "quantity": {
            "anyOf": [
              {
                "type": "integer",
                "minimum": 1
              },
              {
                "type": "null"
              }
            ],
            "title": "Quantity",
            "description": "Quantity"
          }
        },
        "type": "object",
        "title": "IndentPartUpdate",
        "description": "Schema for updating an indent-part association."
      },
      "IndentPartWithDetails": {
        "properties": {
          "id": {
            "title": "Id"
          },
          "indent_id": {
            "title": "Indent Id"
          },
          "spare_part_id": {
            "title": "Spare Part Id"
          },
          "quantity": {
            "title": "Quantity"
          },
          "created_at": {
            "title": "Created At"
          },
          "updated_at": {
            "title": "Updated At"
          },
          "spare_part": {

          }
        },
        "type": "object",
        "required": [
          "id",
          "indent_id",
          "spare_part_id",
          "quantity",
          "created_at",
          "updated_at",
          "spare_part"
        ],
        "title": "IndentPartWithDetails",
        "description": "Schema for reading indent-part data with spare part details."
      },
      "IndentRead": {
        "properties": {
          "job_id": {
            "title": "Job Id",
            "description": "Job ID"
          },
          "supplier_id": {
            "title": "Supplier Id",
            "description": "Supplier ID"
          },
          "notes": {
            "title": "Notes"
          },
          "id": {
            "title": "Id"
          },
          "serial_number": {
            "title": "Serial Number"
          },
          "created_at": {
            "title": "Created At"
          },
          "updated_at": {
            "title": "Updated At"
          }
        },
        "type": "object",
        "required": [
          "id",
          "serial_number",
          "created_at",
          "updated_at"
        ],
        "title": "IndentRead",
        "description": "Schema for reading indent data."
      },
      "IndentSuggestionResponse": {
        "properties": {
          "watch_id": {
            "title": "Watch Id"
          },
          "job_id": {
            "title": "Job Id"
          },
          "suggestions": {
            "title": "Suggestions",
            "description": "Suggested spare parts with details"
          },
          "max_estimated_delivery_days": {
            "title": "Max Estimated Delivery Days",
            "description": "Overall maximum estimated delivery days"
          },
          "total_parts_required": {
            "title": "Total Parts Required",
            "description": "Total number of unique spare parts required"
          }
        },
        "type": "object",
        "required": [
          "watch_id",
          "job_id",
          "suggestions",
          "total_parts_required"
        ],
        "title": "IndentSuggestionResponse",
        "description": "Response schema for indent suggestions from watch complaints."
      },
      "IndentUpdate": {
        "properties": {
          "job_id": {
            "anyOf": [
              {
                "type": "integer",
                "exclusiveMinimum": 0
              },
              {
                "type": "null"
              }
            ],
            "title": "Job Id",
            "description": "Job ID"
          },
          "supplier_id": {
            "anyOf": [
              {
                "type": "integer",
                "exclusiveMinimum": 0
              },
              {
                "type": "null"
              }
            ],
            "title": "Supplier Id",
            "description": "Supplier ID"
          },
          "notes": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Notes"
          }
        },
        "type": "object",
        "title": "IndentUpdate",
        "description": "Schema for updating an indent (all fields optional)."
      },
      "IndentWithParts": {
        "properties": {
          "job_id": {
            "title": "Job Id",
            "description": "Job ID"
          },
          "supplier_id": {
            "title": "Supplier Id",
            "description": "Supplier ID"
          },
          "notes": {
            "title": "Notes"
          },
          "id": {
            "title": "Id"
          },
          "serial_number": {
            "title": "Serial Number"
          },
          "created_at": {
            "title": "Created At"
          },
          "updated_at": {
            "title": "Updated At"
          },
          "parts": {
            "title": "Parts"
          },
          "supplier": {

          }
        },
        "type": "object",
        "required": [
          "id",
          "serial_number",
          "created_at",
          "updated_at"
        ],
        "title": "IndentWithParts",
        "description": "Schema for reading indent data with associated parts and supplier.\n\nUse this when you need to display an indent with all its spare parts and supplier info.\nRequires eager loading of indent_parts and supplier relationships."
      },
      "JobCreate": {
        "properties": {
          "customer_id": {
            "type": "integer",
            "exclusiveMinimum": 0,
            "title": "Customer Id",
            "description": "Customer ID"
          },
          "estimated_delivery_date": {
            "anyOf": [
              {
                "type": "string",
                "format": "date"
              },
              {
                "type": "null"
              }
            ],
            "title": "Estimated Delivery Date"
          },
          "notes": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Notes"
          }
        },
        "type": "object",
        "required": [
          "customer_id"
        ],
        "title": "JobCreate",
        "description": "Schema for creating a new job."
      },
      "JobDelayCreate": {
        "properties": {
          "delay_reason": {
            "type": "string",
            "minLength": 1,
            "title": "Delay Reason",
            "description": "Reason for the delay"
          },
          "new_estimated_delivery_date": {
            "type": "string",
            "format": "date",
            "title": "New Estimated Delivery Date",
            "description": "New estimated delivery date"
          }
        },
        "type": "object",
        "required": [
          "delay_reason",
          "new_estimated_delivery_date"
        ],
        "title": "JobDelayCreate",
        "description": "Schema for adding a delay to a job."
      },
      "JobDetail": {
        "properties": {
          "customer_id": {
            "title": "Customer Id",
            "description": "Customer ID"
          },
          "estimated_cost": {
            "title": "Estimated Cost"
          },
          "estimated_parts_cost": {
            "title": "Estimated Parts Cost"
          },
          "estimated_labour_cost": {
            "title": "Estimated Labour Cost"
          },
          "deduction": {
            "title": "Deduction"
          },
          "deduction_note": {
            "title": "Deduction Note"
          },
          "additional_charge": {
            "title": "Additional Charge"
          },
          "additional_charge_note": {
            "title": "Additional Charge Note"
          },
          "actual_cost": {
            "title": "Actual Cost"
          },
          "estimated_delivery_date": {
            "title": "Estimated Delivery Date"
          },
          "notes": {
            "title": "Notes"
          },
          "status": {

          },
          "id": {
            "title": "Id"
          },
          "job_number": {
            "title": "Job Number"
          },
          "customer": {

          },
          "created_at": {
            "title": "Created At"
          },
          "updated_at": {
            "title": "Updated At"
          },
          "completed_at": {
            "title": "Completed At"
          },
          "delivered_at": {
            "title": "Delivered At"
          },
          "delay_reason": {
            "title": "Delay Reason"
          },
          "original_estimated_delivery_date": {
            "title": "Original Estimated Delivery Date"
          },
          "delayed_at": {
            "title": "Delayed At"
          },
          "watch": {

          },
          "indents": {
            "title": "Indents"
          }
        },
        "type": "object",
        "required": [
          "customer_id",
          "id",
          "job_number",
          "customer",
          "created_at",
          "updated_at"
        ],
        "title": "JobDetail",
        "description": "Detailed job schema with related entities (watch and indents).\n\nUse this for single job detail view to include all nested relationships.\nRequires eager loading of watch, indents, and their related data."
      },
      "JobRead": {
        "properties": {
          "customer_id": {
            "title": "Customer Id",
            "description": "Customer ID"
          },
          "estimated_cost": {
            "title": "Estimated Cost"
          },
          "estimated_parts_cost": {
            "title": "Estimated Parts Cost"
          },
          "estimated_labour_cost": {
            "title": "Estimated Labour Cost"
          },
          "deduction": {
            "title": "Deduction"
          },
          "deduction_note": {
            "title": "Deduction Note"
          },
          "additional_charge": {
            "title": "Additional Charge"
          },
          "additional_charge_note": {
            "title": "Additional Charge Note"
          },
          "actual_cost": {
            "title": "Actual Cost"
          },
          "estimated_delivery_date": {
            "title": "Estimated Delivery Date"
          },
          "notes": {
            "title": "Notes"
          },
          "status": {

          },
          "id": {
            "title": "Id"
          },
          "job_number": {
            "title": "Job Number"
          },
          "customer": {

          },
          "created_at": {
            "title": "Created At"
          },
          "updated_at": {
            "title": "Updated At"
          },
          "completed_at": {
            "title": "Completed At"
          },
          "delivered_at": {
            "title": "Delivered At"
          },
          "delay_reason": {
            "title": "Delay Reason"
          },
          "original_estimated_delivery_date": {
            "title": "Original Estimated Delivery Date"
          },
          "delayed_at": {
            "title": "Delayed At"
          }
        },
        "type": "object",
        "required": [
          "customer_id",
          "id",
          "job_number",
          "customer",
          "created_at",
          "updated_at"
        ],
        "title": "JobRead",
        "description": "Schema for reading job data."
      },
      "JobStatus": {
        "type": "string",
        "enum": [
          "booked",
          "indented",
          "parts_received",
          "completed",
          "delivered",
          "cancelled"
        ],
        "title": "JobStatus",
        "description": "Job status enumeration."
      },
      "JobStatusUpdate": {
        "properties": {
          "status": {
            "$ref": "#/components/schemas/JobStatus",
            "description": "New job status"
          },
          "notes": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Notes",
            "description": "Optional notes for status change"
          }
        },
        "type": "object",
        "required": [
          "status"
        ],
        "title": "JobStatusUpdate",
        "description": "Schema for updating job status."
      },
      "JobUpdate": {
        "properties": {
          "estimated_cost": {
            "anyOf": [
              {
                "type": "number",
                "minimum": 0
              },
              {
                "type": "string",
                "pattern": "^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d{0,2}0*$"
              },
              {
                "type": "null"
              }
            ],
            "title": "Estimated Cost"
          },
          "estimated_parts_cost": {
            "anyOf": [
              {
                "type": "number",
                "minimum": 0
              },
              {
                "type": "string",
                "pattern": "^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d{0,2}0*$"
              },
              {
                "type": "null"
              }
            ],
            "title": "Estimated Parts Cost"
          },
          "estimated_labour_cost": {
            "anyOf": [
              {
                "type": "number",
                "minimum": 0
              },
              {
                "type": "string",
                "pattern": "^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d{0,2}0*$"
              },
              {
                "type": "null"
              }
            ],
            "title": "Estimated Labour Cost"
          },
          "deduction": {
            "anyOf": [
              {
                "type": "number",
                "minimum": 0
              },
              {
                "type": "string",
                "pattern": "^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d{0,2}0*$"
              },
              {
                "type": "null"
              }
            ],
            "title": "Deduction"
          },
          "deduction_note": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Deduction Note"
          },
          "additional_charge": {
            "anyOf": [
              {
                "type": "number",
                "minimum": 0
              },
              {
                "type": "string",
                "pattern": "^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d{0,2}0*$"
              },
              {
                "type": "null"
              }
            ],
            "title": "Additional Charge"
          },
          "additional_charge_note": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Additional Charge Note"
          },
          "actual_cost": {
            "anyOf": [
              {
                "type": "number",
                "minimum": 0
              },
              {
                "type": "string",
                "pattern": "^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d{0,2}0*$"
              },
              {
                "type": "null"
              }
            ],
            "title": "Actual Cost"
          },
          "estimated_delivery_date": {
            "anyOf": [
              {
                "type": "string",
                "format": "date"
              },
              {
                "type": "null"
              }
            ],
            "title": "Estimated Delivery Date"
          },
          "notes": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Notes"
          }
        },
        "type": "object",
        "title": "JobUpdate",
        "description": "Schema for updating a job (all fields optional)."
      },
      "LoginRequest": {
        "properties": {
          "username": {
            "type": "string",
            "title": "Username"
          },
          "password": {
            "type": "string",
            "title": "Password"
          }
        },
        "type": "object",
        "required": [
          "username",
          "password"
        ],
        "title": "LoginRequest",
        "description": "Login request schema."
      },
      "PaginatedResponse_BrandList_": {
        "properties": {
          "items": {
            "title": "Items",
            "description": "List of items"
          },
          "pagination": {
            "description": "Pagination metadata"
          }
        },
        "type": "object",
        "required": [
          "items",
          "pagination"
        ],
        "title": "PaginatedResponse[BrandList]"
      },
      "PaginatedResponse_ComplaintPricingRuleRead_": {
        "properties": {
          "items": {
            "title": "Items",
            "description": "List of items"
          },
          "pagination": {
            "description": "Pagination metadata"
          }
        },
        "type": "object",
        "required": [
          "items",
          "pagination"
        ],
        "title": "PaginatedResponse[ComplaintPricingRuleRead]"
      },
      "PaginatedResponse_CustomerList_": {
        "properties": {
          "items": {
            "title": "Items",
            "description": "List of items"
          },
          "pagination": {
            "description": "Pagination metadata"
          }
        },
        "type": "object",
        "required": [
          "items",
          "pagination"
        ],
        "title": "PaginatedResponse[CustomerList]"
      },
      "PaginatedResponse_IndentList_": {
        "properties": {
          "items": {
            "title": "Items",
            "description": "List of items"
          },
          "pagination": {
            "description": "Pagination metadata"
          }
        },
        "type": "object",
        "required": [
          "items",
          "pagination"
        ],
        "title": "PaginatedResponse[IndentList]"
      },
      "PaginatedResponse_JobList_": {
        "properties": {
          "items": {
            "title": "Items",
            "description": "List of items"
          },
          "pagination": {
            "description": "Pagination metadata"
          }
        },
        "type": "object",
        "required": [
          "items",
          "pagination"
        ],
        "title": "PaginatedResponse[JobList]"
      },
      "PaginatedResponse_SparePartList_": {
        "properties": {
          "items": {
            "title": "Items",
            "description": "List of items"
          },
          "pagination": {
            "description": "Pagination metadata"
          }
        },
        "type": "object",
        "required": [
          "items",
          "pagination"
        ],
        "title": "PaginatedResponse[SparePartList]"
      },
      "PaginatedResponse_SupplierList_": {
        "properties": {
          "items": {
            "title": "Items",
            "description": "List of items"
          },
          "pagination": {
            "description": "Pagination metadata"
          }
        },
        "type": "object",
        "required": [
          "items",
          "pagination"
        ],
        "title": "PaginatedResponse[SupplierList]"
      },
      "PaginatedResponse_UserList_": {
        "properties": {
          "items": {
            "title": "Items",
            "description": "List of items"
          },
          "pagination": {
            "description": "Pagination metadata"
          }
        },
        "type": "object",
        "required": [
          "items",
          "pagination"
        ],
        "title": "PaginatedResponse[UserList]"
      },
      "PaginatedResponse_WatchList_": {
        "properties": {
          "items": {
            "title": "Items",
            "description": "List of items"
          },
          "pagination": {
            "description": "Pagination metadata"
          }
        },
        "type": "object",
        "required": [
          "items",
          "pagination"
        ],
        "title": "PaginatedResponse[WatchList]"
      },
      "PaginationMeta": {
        "properties": {
          "page": {
            "title": "Page",
            "description": "Current page number"
          },
          "page_size": {
            "title": "Page Size",
            "description": "Items per page"
          },
          "total": {
            "title": "Total",
            "description": "Total number of items"
          },
          "total_pages": {
            "title": "Total Pages",
            "description": "Total number of pages"
          },
          "has_next": {
            "title": "Has Next",
            "description": "Whether there is a next page"
          },
          "has_previous": {
            "title": "Has Previous",
            "description": "Whether there is a previous page"
          }
        },
        "type": "object",
        "required": [
          "page",
          "page_size",
          "total",
          "total_pages",
          "has_next",
          "has_previous"
        ],
        "title": "PaginationMeta",
        "description": "Pagination metadata."
      },
      "PaginationMetadata": {
        "properties": {
          "page": {
            "title": "Page",
            "description": "Current page number"
          },
          "page_size": {
            "title": "Page Size",
            "description": "Results per page"
          },
          "total": {
            "title": "Total",
            "description": "Total number of results"
          },
          "total_pages": {
            "title": "Total Pages",
            "description": "Total number of pages"
          },
          "has_next": {
            "title": "Has Next",
            "description": "Whether there is a next page"
          },
          "has_previous": {
            "title": "Has Previous",
            "description": "Whether there is a previous page"
          }
        },
        "type": "object",
        "required": [
          "page",
          "page_size",
          "total",
          "total_pages",
          "has_next",
          "has_previous"
        ],
        "title": "PaginationMetadata",
        "description": "Pagination metadata for search results."
      },
      "PasswordReset": {
        "properties": {
          "new_password": {
            "type": "string",
            "minLength": 8,
            "title": "New Password"
          }
        },
        "type": "object",
        "required": [
          "new_password"
        ],
        "title": "PasswordReset",
        "description": "Schema for admin password reset."
      },
      "RecalculatePricingRequest": {
        "properties": {
          "apply_to_job": {
            "type": "boolean",
            "title": "Apply To Job",
            "description": "If True, update job's estimated costs; if False, just return calculation",
            "default": true
          }
        },
        "type": "object",
        "title": "RecalculatePricingRequest",
        "description": "Request for manual pricing recalculation.",
        "examples": [
          {
            "apply_to_job": true
          },
          {
            "apply_to_job": false
          }
        ]
      },
      "RecalculatePricingResponse": {
        "properties": {
          "estimate": {
            "description": "Calculated pricing estimate"
          },
          "applied": {
            "title": "Applied",
            "description": "Whether the estimate was applied to the job"
          },
          "message": {
            "title": "Message",
            "description": "Optional message about the recalculation"
          }
        },
        "type": "object",
        "required": [
          "estimate",
          "applied"
        ],
        "title": "RecalculatePricingResponse",
        "description": "Response from pricing recalculation.",
        "examples": [
          {
            "applied": true,
            "estimate": {
              "breakdown": [],
              "estimated_total": 620,
              "total_labour_cost": 150,
              "total_parts_cost": 470,
              "ucp_rate": 1000
            },
            "message": "Pricing successfully recalculated and applied to job"
          }
        ]
      },
      "RefreshTokenRequest": {
        "properties": {
          "refresh_token": {
            "type": "string",
            "title": "Refresh Token"
          }
        },
        "type": "object",
        "required": [
          "refresh_token"
        ],
        "title": "RefreshTokenRequest",
        "description": "Refresh token request schema."
      },
      "ReportTypeInfo": {
        "properties": {
          "type": {
            "title": "Type",
            "description": "Report type identifier"
          },
          "name": {
            "title": "Name",
            "description": "Human-readable report name"
          },
          "description": {
            "title": "Description",
            "description": "Report description"
          },
          "requires_date_range": {
            "title": "Requires Date Range",
            "description": "Whether this report requires date range"
          }
        },
        "type": "object",
        "required": [
          "type",
          "name",
          "description",
          "requires_date_range"
        ],
        "title": "ReportTypeInfo",
        "description": "Information about a report type."
      },
      "RoleUpdate": {
        "properties": {
          "is_manager": {
            "type": "boolean",
            "title": "Is Manager"
          },
          "is_admin": {
            "type": "boolean",
            "title": "Is Admin"
          }
        },
        "type": "object",
        "required": [
          "is_manager",
          "is_admin"
        ],
        "title": "RoleUpdate",
        "description": "Schema for updating user role."
      },
      "SearchResponse": {
        "properties": {
          "results": {
            "title": "Results",
            "description": "Search results"
          },
          "total": {
            "title": "Total",
            "description": "Total number of matching results"
          },
          "query": {
            "title": "Query",
            "description": "The search query that was executed"
          },
          "entities_searched": {
            "title": "Entities Searched",
            "description": "Entity types that were searched"
          },
          "pagination": {
            "description": "Pagination information"
          }
        },
        "type": "object",
        "required": [
          "total",
          "query",
          "entities_searched",
          "pagination"
        ],
        "title": "SearchResponse",
        "description": "Response schema for global search."
      },
      "SparePartCreate": {
        "properties": {
          "part_name": {
            "type": "string",
            "maxLength": 255,
            "title": "Part Name",
            "description": "Part name"
          },
          "description": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Description",
            "description": "Part description"
          },
          "estimated_delivery_days": {
            "anyOf": [
              {
                "type": "integer",
                "maximum": 365,
                "minimum": 1
              },
              {
                "type": "null"
              }
            ],
            "title": "Estimated Delivery Days",
            "description": "Estimated delivery time in days (1-365)"
          }
        },
        "type": "object",
        "required": [
          "part_name"
        ],
        "title": "SparePartCreate",
        "description": "Schema for creating a new spare part."
      },
      "SparePartList": {
        "properties": {
          "id": {
            "title": "Id"
          },
          "part_name": {
            "title": "Part Name"
          },
          "description": {
            "title": "Description"
          },
          "estimated_delivery_days": {
            "title": "Estimated Delivery Days"
          }
        },
        "type": "object",
        "required": [
          "id",
          "part_name",
          "description",
          "estimated_delivery_days"
        ],
        "title": "SparePartList",
        "description": "Simplified schema for spare part lists."
      },
      "SparePartRead": {
        "properties": {
          "part_name": {
            "title": "Part Name",
            "description": "Part name"
          },
          "description": {
            "title": "Description",
            "description": "Part description"
          },
          "estimated_delivery_days": {
            "title": "Estimated Delivery Days",
            "description": "Estimated delivery time in days (1-365)"
          },
          "id": {
            "title": "Id"
          },
          "created_at": {
            "title": "Created At"
          },
          "updated_at": {
            "title": "Updated At"
          }
        },
        "type": "object",
        "required": [
          "part_name",
          "id",
          "created_at",
          "updated_at"
        ],
        "title": "SparePartRead",
        "description": "Schema for reading spare part data."
      },
      "SparePartSummary": {
        "properties": {
          "id": {
            "title": "Id"
          },
          "part_name": {
            "title": "Part Name"
          },
          "description": {
            "title": "Description"
          },
          "estimated_delivery_days": {
            "title": "Estimated Delivery Days"
          }
        },
        "type": "object",
        "required": [
          "id",
          "part_name",
          "description",
          "estimated_delivery_days"
        ],
        "title": "SparePartSummary",
        "description": "Lightweight schema for nested spare part display."
      },
      "SparePartUpdate": {
        "properties": {
          "part_name": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 255
              },
              {
                "type": "null"
              }
            ],
            "title": "Part Name"
          },
          "description": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Description"
          },
          "estimated_delivery_days": {
            "anyOf": [
              {
                "type": "integer",
                "maximum": 365,
                "minimum": 1
              },
              {
                "type": "null"
              }
            ],
            "title": "Estimated Delivery Days"
          }
        },
        "type": "object",
        "title": "SparePartUpdate",
        "description": "Schema for updating a spare part (all fields optional)."
      },
      "SupplierCreate": {
        "properties": {
          "name": {
            "type": "string",
            "maxLength": 255,
            "minLength": 1,
            "title": "Name"
          },
          "contact_number": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 20
              },
              {
                "type": "null"
              }
            ],
            "title": "Contact Number"
          },
          "email": {
            "anyOf": [
              {
                "type": "string",
                "format": "email"
              },
              {
                "type": "null"
              }
            ],
            "title": "Email"
          },
          "address": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Address"
          }
        },
        "type": "object",
        "required": [
          "name"
        ],
        "title": "SupplierCreate",
        "description": "Schema for creating a new supplier."
      },
      "SupplierList": {
        "properties": {
          "id": {
            "title": "Id"
          },
          "name": {
            "title": "Name"
          },
          "contact_number": {
            "title": "Contact Number"
          },
          "email": {
            "title": "Email"
          }
        },
        "type": "object",
        "required": [
          "id",
          "name",
          "contact_number",
          "email"
        ],
        "title": "SupplierList",
        "description": "Simplified schema for supplier lists."
      },
      "SupplierRead": {
        "properties": {
          "name": {
            "title": "Name"
          },
          "contact_number": {
            "title": "Contact Number"
          },
          "email": {
            "title": "Email"
          },
          "address": {
            "title": "Address"
          },
          "id": {
            "title": "Id"
          },
          "created_at": {
            "title": "Created At"
          },
          "updated_at": {
            "title": "Updated At"
          }
        },
        "type": "object",
        "required": [
          "name",
          "id",
          "created_at",
          "updated_at"
        ],
        "title": "SupplierRead",
        "description": "Schema for reading supplier data."
      },
      "SupplierUpdate": {
        "properties": {
          "name": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 255,
                "minLength": 1
              },
              {
                "type": "null"
              }
            ],
            "title": "Name"
          },
          "contact_number": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 20
              },
              {
                "type": "null"
              }
            ],
            "title": "Contact Number"
          },
          "email": {
            "anyOf": [
              {
                "type": "string",
                "format": "email"
              },
              {
                "type": "null"
              }
            ],
            "title": "Email"
          },
          "address": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Address"
          }
        },
        "type": "object",
        "title": "SupplierUpdate",
        "description": "Schema for updating a supplier (all fields optional)."
      },
      "TaskExecutionInfo": {
        "properties": {
          "timestamp": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Timestamp"
          },
          "status": {
            "type": "string",
            "title": "Status"
          },
          "files_deleted": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Files Deleted"
          },
          "space_freed_mb": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Space Freed Mb"
          },
          "backup_size_mb": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Backup Size Mb"
          },
          "duration_seconds": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Duration Seconds"
          },
          "error_message": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Error Message"
          }
        },
        "type": "object",
        "required": [
          "status"
        ],
        "title": "TaskExecutionInfo",
        "description": "Information about a task execution"
      },
      "Token": {
        "properties": {
          "access_token": {
            "title": "Access Token"
          },
          "refresh_token": {
            "title": "Refresh Token"
          },
          "token_type": {
            "title": "Token Type"
          },
          "expires_in": {
            "title": "Expires In"
          }
        },
        "type": "object",
        "required": [
          "access_token",
          "refresh_token",
          "expires_in"
        ],
        "title": "Token",
        "description": "JWT token response schema."
      },
      "UserCreate": {
        "properties": {
          "username": {
            "type": "string",
            "maxLength": 100,
            "minLength": 3,
            "title": "Username"
          },
          "email": {
            "type": "string",
            "format": "email",
            "title": "Email"
          },
          "full_name": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Full Name"
          },
          "password": {
            "type": "string",
            "maxLength": 100,
            "minLength": 8,
            "title": "Password"
          },
          "is_manager": {
            "type": "boolean",
            "title": "Is Manager",
            "default": false
          },
          "is_admin": {
            "type": "boolean",
            "title": "Is Admin",
            "default": false
          }
        },
        "type": "object",
        "required": [
          "username",
          "email",
          "password"
        ],
        "title": "UserCreate",
        "description": "Schema for creating a new user."
      },
      "UserProfileUpdate": {
        "properties": {
          "email": {
            "anyOf": [
              {
                "type": "string",
                "format": "email"
              },
              {
                "type": "null"
              }
            ],
            "title": "Email"
          },
          "full_name": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Full Name"
          },
          "password": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 100,
                "minLength": 8
              },
              {
                "type": "null"
              }
            ],
            "title": "Password"
          }
        },
        "type": "object",
        "title": "UserProfileUpdate",
        "description": "Schema for users updating their own profile."
      },
      "UserRead": {
        "properties": {
          "username": {
            "title": "Username"
          },
          "email": {
            "type": "string",
            "format": "email",
            "title": "Email"
          },
          "full_name": {
            "title": "Full Name"
          },
          "id": {
            "title": "Id"
          },
          "is_active": {
            "title": "Is Active"
          },
          "is_manager": {
            "title": "Is Manager"
          },
          "is_admin": {
            "title": "Is Admin"
          },
          "created_at": {
            "title": "Created At"
          },
          "updated_at": {
            "title": "Updated At"
          }
        },
        "type": "object",
        "required": [
          "username",
          "email",
          "id",
          "is_active",
          "is_manager",
          "is_admin",
          "created_at",
          "updated_at"
        ],
        "title": "UserRead",
        "description": "Schema for reading user data."
      },
      "UserUpdate": {
        "properties": {
          "username": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 100,
                "minLength": 3
              },
              {
                "type": "null"
              }
            ],
            "title": "Username"
          },
          "email": {
            "anyOf": [
              {
                "type": "string",
                "format": "email"
              },
              {
                "type": "null"
              }
            ],
            "title": "Email"
          },
          "full_name": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Full Name"
          },
          "is_active": {
            "anyOf": [
              {
                "type": "boolean"
              },
              {
                "type": "null"
              }
            ],
            "title": "Is Active"
          },
          "is_manager": {
            "anyOf": [
              {
                "type": "boolean"
              },
              {
                "type": "null"
              }
            ],
            "title": "Is Manager"
          },
          "is_admin": {
            "anyOf": [
              {
                "type": "boolean"
              },
              {
                "type": "null"
              }
            ],
            "title": "Is Admin"
          }
        },
        "type": "object",
        "title": "UserUpdate",
        "description": "Schema for updating a user (all fields optional)."
      },
      "ValidationError": {
        "properties": {
          "loc": {
            "items": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "integer"
                }
              ]
            },
            "type": "array",
            "title": "Location"
          },
          "msg": {
            "type": "string",
            "title": "Message"
          },
          "type": {
            "type": "string",
            "title": "Error Type"
          }
        },
        "type": "object",
        "required": [
          "loc",
          "msg",
          "type"
        ],
        "title": "ValidationError"
      },
      "WatchAttachmentList": {
        "properties": {
          "id": {
            "title": "Id",
            "description": "Unique identifier for the attachment",
            "examples": [1, 42]
          },
          "watch_id": {
            "title": "Watch Id",
            "description": "ID of the watch this attachment belongs to",
            "examples": [123, 456]
          },
          "file_name": {
            "title": "File Name",
            "description": "Original filename with extension",
            "examples": [
              "rolex-submariner-front.jpg"
            ]
          },
          "mime_type": {
            "title": "Mime Type",
            "description": "MIME type of the file",
            "examples": [
              "image/jpeg"
            ]
          },
          "file_size_bytes": {
            "title": "File Size Bytes",
            "description": "File size in bytes",
            "examples": [2458624]
          },
          "created_at": {
            "title": "Created At",
            "description": "Timestamp when the attachment was uploaded",
            "examples": [
              "2024-01-15T10:30:00Z"
            ]
          }
        },
        "type": "object",
        "required": [
          "id",
          "watch_id",
          "file_name",
          "created_at"
        ],
        "title": "WatchAttachmentList",
        "description": "Simplified schema for listing watch attachments.",
        "examples": [
          {
            "created_at": "2024-01-15T10:30:00Z",
            "file_name": "rolex-submariner-front.jpg",
            "file_size_bytes": 2458624,
            "id": 1,
            "mime_type": "image/jpeg",
            "watch_id": 123
          },
          {
            "created_at": "2024-01-15T10:35:00Z",
            "file_name": "warranty-certificate.pdf",
            "file_size_bytes": 512000,
            "id": 2,
            "mime_type": "application/pdf",
            "watch_id": 123
          }
        ]
      },
      "WatchAttachmentRead": {
        "properties": {
          "file_name": {
            "title": "File Name",
            "description": "Original filename with extension",
            "examples": [
              "rolex-submariner-front.jpg",
              "warranty-certificate.pdf"
            ]
          },
          "mime_type": {
            "title": "Mime Type",
            "description": "MIME type of the uploaded file. Supported types: image/jpeg, image/png, image/webp, image/gif, application/pdf",
            "examples": [
              "image/jpeg",
              "image/png",
              "application/pdf"
            ]
          },
          "file_size_bytes": {
            "title": "File Size Bytes",
            "description": "File size in bytes. Maximum allowed size is 10,485,760 bytes (10 MB)",
            "examples": [2458624, 512000]
          },
          "id": {
            "title": "Id",
            "description": "Unique identifier for the attachment",
            "examples": [1, 42]
          },
          "watch_id": {
            "title": "Watch Id",
            "description": "ID of the watch this attachment belongs to",
            "examples": [123, 456]
          },
          "storage_path": {
            "title": "Storage Path",
            "description": "Internal storage path (for administrative use)",
            "examples": [
              "uploads/watches/2024/01/abc123.jpg"
            ]
          },
          "created_at": {
            "title": "Created At",
            "description": "Timestamp when the attachment was uploaded",
            "examples": [
              "2024-01-15T10:30:00Z"
            ]
          },
          "updated_at": {
            "title": "Updated At",
            "description": "Timestamp when the attachment was last modified",
            "examples": [
              "2024-01-15T10:30:00Z"
            ]
          }
        },
        "type": "object",
        "required": [
          "file_name",
          "id",
          "watch_id",
          "storage_path",
          "created_at",
          "updated_at"
        ],
        "title": "WatchAttachmentRead",
        "description": "Schema for reading a watch attachment with full details.",
        "examples": [
          {
            "created_at": "2024-01-15T10:30:00Z",
            "file_name": "rolex-submariner-front.jpg",
            "file_size_bytes": 2458624,
            "id": 1,
            "mime_type": "image/jpeg",
            "storage_path": "uploads/watches/2024/01/123/abc123def456.jpg",
            "updated_at": "2024-01-15T10:30:00Z",
            "watch_id": 123
          }
        ]
      },
      "WatchComplaintAttachmentList": {
        "properties": {
          "id": {
            "title": "Id",
            "description": "Unique identifier for the attachment",
            "examples": [1, 42]
          },
          "watch_complaint_id": {
            "title": "Watch Complaint Id",
            "description": "ID of the complaint this attachment belongs to",
            "examples": [789, 101]
          },
          "file_name": {
            "title": "File Name",
            "description": "Original filename with extension",
            "examples": [
              "scratch-on-crystal.jpg"
            ]
          },
          "mime_type": {
            "title": "Mime Type",
            "description": "MIME type of the file",
            "examples": [
              "image/jpeg"
            ]
          },
          "file_size_bytes": {
            "title": "File Size Bytes",
            "description": "File size in bytes",
            "examples": [1048576]
          },
          "created_at": {
            "title": "Created At",
            "description": "Timestamp when the attachment was uploaded",
            "examples": [
              "2024-01-15T14:20:00Z"
            ]
          }
        },
        "type": "object",
        "required": [
          "id",
          "watch_complaint_id",
          "file_name",
          "created_at"
        ],
        "title": "WatchComplaintAttachmentList",
        "description": "Simplified schema for listing watch complaint attachments.",
        "examples": [
          {
            "created_at": "2024-01-15T14:20:00Z",
            "file_name": "scratch-on-crystal.jpg",
            "file_size_bytes": 1048576,
            "id": 5,
            "mime_type": "image/jpeg",
            "watch_complaint_id": 789
          }
        ]
      },
      "WatchComplaintAttachmentRead": {
        "properties": {
          "file_name": {
            "title": "File Name",
            "description": "Original filename with extension",
            "examples": [
              "scratch-on-crystal.jpg",
              "complaint-evidence.jpg"
            ]
          },
          "mime_type": {
            "title": "Mime Type",
            "description": "MIME type of the uploaded file. Supported types: image/jpeg, image/png, image/webp, image/gif, application/pdf",
            "examples": [
              "image/jpeg",
              "image/png"
            ]
          },
          "file_size_bytes": {
            "title": "File Size Bytes",
            "description": "File size in bytes. Maximum allowed size is 10,485,760 bytes (10 MB)",
            "examples": [1048576, 3145728]
          },
          "id": {
            "title": "Id",
            "description": "Unique identifier for the attachment",
            "examples": [1, 42]
          },
          "watch_complaint_id": {
            "title": "Watch Complaint Id",
            "description": "ID of the complaint this attachment belongs to",
            "examples": [789, 101]
          },
          "storage_path": {
            "title": "Storage Path",
            "description": "Internal storage path (for administrative use)",
            "examples": [
              "uploads/complaints/2024/01/xyz789.jpg"
            ]
          },
          "created_at": {
            "title": "Created At",
            "description": "Timestamp when the attachment was uploaded",
            "examples": [
              "2024-01-15T10:30:00Z"
            ]
          },
          "updated_at": {
            "title": "Updated At",
            "description": "Timestamp when the attachment was last modified",
            "examples": [
              "2024-01-15T10:30:00Z"
            ]
          }
        },
        "type": "object",
        "required": [
          "file_name",
          "id",
          "watch_complaint_id",
          "storage_path",
          "created_at",
          "updated_at"
        ],
        "title": "WatchComplaintAttachmentRead",
        "description": "Schema for reading a watch complaint attachment with full details.",
        "examples": [
          {
            "created_at": "2024-01-15T14:20:00Z",
            "file_name": "scratch-on-crystal.jpg",
            "file_size_bytes": 1048576,
            "id": 5,
            "mime_type": "image/jpeg",
            "storage_path": "uploads/complaints/2024/01/789/xyz789abc123.jpg",
            "updated_at": "2024-01-15T14:20:00Z",
            "watch_complaint_id": 789
          }
        ]
      },
      "WatchComplaintBatchCreate": {
        "properties": {
          "watch_id": {
            "type": "integer",
            "title": "Watch Id"
          },
          "complaint_node_ids": {
            "items": {
              "type": "integer"
            },
            "type": "array",
            "minItems": 1,
            "title": "Complaint Node Ids",
            "description": "List of complaint node IDs to attach"
          },
          "notes": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Notes"
          }
        },
        "type": "object",
        "required": [
          "watch_id",
          "complaint_node_ids"
        ],
        "title": "WatchComplaintBatchCreate",
        "description": "Schema for creating multiple watch complaints at once."
      },
      "WatchComplaintCreate": {
        "properties": {
          "watch_id": {
            "type": "integer",
            "title": "Watch Id",
            "description": "Watch ID"
          },
          "complaint_node_id": {
            "type": "integer",
            "title": "Complaint Node Id",
            "description": "Complaint node ID"
          },
          "notes": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Notes",
            "description": "Additional notes"
          },
          "indent_required": {
            "type": "boolean",
            "title": "Indent Required",
            "description": "Whether this complaint requires an indent",
            "default": false
          },
          "spare_part_id": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Spare Part Id",
            "description": "Spare part ID if indent is required"
          }
        },
        "type": "object",
        "required": [
          "watch_id",
          "complaint_node_id"
        ],
        "title": "WatchComplaintCreate",
        "description": "Schema for creating a watch complaint."
      },
      "WatchComplaintRead": {
        "properties": {
          "watch_id": {
            "title": "Watch Id",
            "description": "Watch ID"
          },
          "complaint_node_id": {
            "title": "Complaint Node Id",
            "description": "Complaint node ID"
          },
          "notes": {
            "title": "Notes",
            "description": "Additional notes"
          },
          "indent_required": {
            "title": "Indent Required",
            "description": "Whether this complaint requires an indent"
          },
          "spare_part_id": {
            "title": "Spare Part Id",
            "description": "Spare part ID if indent is required"
          },
          "id": {
            "title": "Id"
          },
          "created_at": {
            "title": "Created At"
          },
          "updated_at": {
            "title": "Updated At"
          },
          "complaint_node": {

          },
          "spare_part": {

          }
        },
        "type": "object",
        "required": [
          "watch_id",
          "complaint_node_id",
          "id",
          "created_at",
          "updated_at"
        ],
        "title": "WatchComplaintRead",
        "description": "Schema for reading a watch complaint."
      },
      "WatchComplaintUpdate": {
        "properties": {
          "notes": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Notes"
          },
          "indent_required": {
            "anyOf": [
              {
                "type": "boolean"
              },
              {
                "type": "null"
              }
            ],
            "title": "Indent Required"
          },
          "spare_part_id": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Spare Part Id"
          }
        },
        "type": "object",
        "title": "WatchComplaintUpdate",
        "description": "Schema for updating a watch complaint."
      },
      "WatchConditionAttachmentList": {
        "properties": {
          "id": {
            "title": "Id",
            "description": "Unique identifier for the attachment",
            "examples": [1, 42]
          },
          "watch_condition_id": {
            "title": "Watch Condition Id",
            "description": "ID of the condition this attachment belongs to",
            "examples": [234, 567]
          },
          "file_name": {
            "title": "File Name",
            "description": "Original filename with extension",
            "examples": [
              "water-damage-photo.jpg"
            ]
          },
          "mime_type": {
            "title": "Mime Type",
            "description": "MIME type of the file",
            "examples": [
              "image/jpeg"
            ]
          },
          "file_size_bytes": {
            "title": "File Size Bytes",
            "description": "File size in bytes",
            "examples": [2097152]
          },
          "created_at": {
            "title": "Created At",
            "description": "Timestamp when the attachment was uploaded",
            "examples": [
              "2024-01-15T16:45:00Z"
            ]
          }
        },
        "type": "object",
        "required": [
          "id",
          "watch_condition_id",
          "file_name",
          "created_at"
        ],
        "title": "WatchConditionAttachmentList",
        "description": "Simplified schema for listing watch condition attachments.",
        "examples": [
          {
            "created_at": "2024-01-15T16:45:00Z",
            "file_name": "water-damage-photo.jpg",
            "file_size_bytes": 2097152,
            "id": 8,
            "mime_type": "image/jpeg",
            "watch_condition_id": 234
          }
        ]
      },
      "WatchConditionAttachmentRead": {
        "properties": {
          "file_name": {
            "title": "File Name",
            "description": "Original filename with extension",
            "examples": [
              "water-damage-photo.jpg",
              "condition-report.pdf"
            ]
          },
          "mime_type": {
            "title": "Mime Type",
            "description": "MIME type of the uploaded file. Supported types: image/jpeg, image/png, image/webp, image/gif, application/pdf",
            "examples": [
              "image/jpeg",
              "application/pdf"
            ]
          },
          "file_size_bytes": {
            "title": "File Size Bytes",
            "description": "File size in bytes. Maximum allowed size is 10,485,760 bytes (10 MB)",
            "examples": [2097152, 4194304]
          },
          "id": {
            "title": "Id",
            "description": "Unique identifier for the attachment",
            "examples": [1, 42]
          },
          "watch_condition_id": {
            "title": "Watch Condition Id",
            "description": "ID of the condition this attachment belongs to",
            "examples": [234, 567]
          },
          "storage_path": {
            "title": "Storage Path",
            "description": "Internal storage path (for administrative use)",
            "examples": [
              "uploads/conditions/2024/01/def456.jpg"
            ]
          },
          "created_at": {
            "title": "Created At",
            "description": "Timestamp when the attachment was uploaded",
            "examples": [
              "2024-01-15T10:30:00Z"
            ]
          },
          "updated_at": {
            "title": "Updated At",
            "description": "Timestamp when the attachment was last modified",
            "examples": [
              "2024-01-15T10:30:00Z"
            ]
          }
        },
        "type": "object",
        "required": [
          "file_name",
          "id",
          "watch_condition_id",
          "storage_path",
          "created_at",
          "updated_at"
        ],
        "title": "WatchConditionAttachmentRead",
        "description": "Schema for reading a watch condition attachment with full details.",
        "examples": [
          {
            "created_at": "2024-01-15T16:45:00Z",
            "file_name": "water-damage-photo.jpg",
            "file_size_bytes": 2097152,
            "id": 8,
            "mime_type": "image/jpeg",
            "storage_path": "uploads/conditions/2024/01/234/def456ghi789.jpg",
            "updated_at": "2024-01-15T16:45:00Z",
            "watch_condition_id": 234
          }
        ]
      },
      "WatchConditionBatchCreate": {
        "properties": {
          "watch_id": {
            "type": "integer",
            "title": "Watch Id"
          },
          "condition_node_ids": {
            "items": {
              "type": "integer"
            },
            "type": "array",
            "minItems": 1,
            "title": "Condition Node Ids",
            "description": "List of condition node IDs to attach"
          },
          "notes": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Notes"
          }
        },
        "type": "object",
        "required": [
          "watch_id",
          "condition_node_ids"
        ],
        "title": "WatchConditionBatchCreate",
        "description": "Schema for creating multiple watch conditions at once."
      },
      "WatchConditionCreate": {
        "properties": {
          "watch_id": {
            "type": "integer",
            "title": "Watch Id",
            "description": "Watch ID"
          },
          "condition_node_id": {
            "type": "integer",
            "title": "Condition Node Id",
            "description": "Condition node ID"
          },
          "notes": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Notes",
            "description": "Additional notes"
          }
        },
        "type": "object",
        "required": [
          "watch_id",
          "condition_node_id"
        ],
        "title": "WatchConditionCreate",
        "description": "Schema for creating a watch condition."
      },
      "WatchConditionRead": {
        "properties": {
          "watch_id": {
            "title": "Watch Id",
            "description": "Watch ID"
          },
          "condition_node_id": {
            "title": "Condition Node Id",
            "description": "Condition node ID"
          },
          "notes": {
            "title": "Notes",
            "description": "Additional notes"
          },
          "id": {
            "title": "Id"
          },
          "created_at": {
            "title": "Created At"
          },
          "updated_at": {
            "title": "Updated At"
          },
          "condition_node": {

          }
        },
        "type": "object",
        "required": [
          "watch_id",
          "condition_node_id",
          "id",
          "created_at",
          "updated_at"
        ],
        "title": "WatchConditionRead",
        "description": "Schema for reading a watch condition."
      },
      "WatchConditionUpdate": {
        "properties": {
          "notes": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Notes"
          }
        },
        "type": "object",
        "title": "WatchConditionUpdate",
        "description": "Schema for updating a watch condition."
      },
      "WatchCreate": {
        "properties": {
          "brand_id": {
            "anyOf": [
              {
                "type": "integer",
                "exclusiveMinimum": 0
              },
              {
                "type": "null"
              }
            ],
            "title": "Brand Id",
            "description": "Brand ID"
          },
          "model_number": {
            "type": "string",
            "maxLength": 255,
            "minLength": 1,
            "title": "Model Number"
          },
          "watch_serial_number": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 255
              },
              {
                "type": "null"
              }
            ],
            "title": "Watch Serial Number"
          },
          "date_of_purchase": {
            "anyOf": [
              {
                "type": "string",
                "format": "date"
              },
              {
                "type": "null"
              }
            ],
            "title": "Date Of Purchase"
          },
          "ucp_rate": {
            "anyOf": [
              {
                "type": "number",
                "exclusiveMinimum": 0
              },
              {
                "type": "string",
                "pattern": "^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d{0,2}0*$"
              }
            ],
            "title": "Ucp Rate",
            "description": "UCP rate"
          },
          "other_remarks": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Other Remarks"
          },
          "job_id": {
            "type": "integer",
            "exclusiveMinimum": 0,
            "title": "Job Id",
            "description": "Job ID"
          }
        },
        "type": "object",
        "required": [
          "model_number",
          "ucp_rate",
          "job_id"
        ],
        "title": "WatchCreate",
        "description": "Schema for creating a new watch."
      },
      "WatchRead": {
        "properties": {
          "brand_id": {
            "title": "Brand Id",
            "description": "Brand ID"
          },
          "model_number": {
            "title": "Model Number"
          },
          "watch_serial_number": {
            "title": "Watch Serial Number"
          },
          "date_of_purchase": {
            "title": "Date Of Purchase"
          },
          "ucp_rate": {
            "title": "Ucp Rate",
            "description": "UCP rate"
          },
          "other_remarks": {
            "title": "Other Remarks"
          },
          "id": {
            "title": "Id"
          },
          "job_id": {
            "title": "Job Id"
          },
          "created_at": {
            "title": "Created At"
          },
          "updated_at": {
            "title": "Updated At"
          }
        },
        "type": "object",
        "required": [
          "model_number",
          "ucp_rate",
          "id",
          "job_id",
          "created_at",
          "updated_at"
        ],
        "title": "WatchRead",
        "description": "Schema for reading watch data."
      },
      "WatchUpdate": {
        "properties": {
          "brand_id": {
            "anyOf": [
              {
                "type": "integer",
                "exclusiveMinimum": 0
              },
              {
                "type": "null"
              }
            ],
            "title": "Brand Id",
            "description": "Brand ID"
          },
          "model_number": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 255,
                "minLength": 1
              },
              {
                "type": "null"
              }
            ],
            "title": "Model Number"
          },
          "watch_serial_number": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 255
              },
              {
                "type": "null"
              }
            ],
            "title": "Watch Serial Number"
          },
          "date_of_purchase": {
            "anyOf": [
              {
                "type": "string",
                "format": "date"
              },
              {
                "type": "null"
              }
            ],
            "title": "Date Of Purchase"
          },
          "ucp_rate": {
            "anyOf": [
              {
                "type": "number",
                "exclusiveMinimum": 0
              },
              {
                "type": "string",
                "pattern": "^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d{0,2}0*$"
              },
              {
                "type": "null"
              }
            ],
            "title": "Ucp Rate"
          },
          "other_remarks": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Other Remarks"
          }
        },
        "type": "object",
        "title": "WatchUpdate",
        "description": "Schema for updating a watch (all fields optional)."
      },
      "WorkerStatusResponse": {
        "properties": {
          "scheduler_running": {
            "type": "boolean",
            "title": "Scheduler Running"
          },
          "next_cleanup": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Next Cleanup"
          },
          "next_backup": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Next Backup"
          },
          "last_cleanup": {
            "$ref": "#/components/schemas/TaskExecutionInfo"
          },
          "last_backup": {
            "$ref": "#/components/schemas/TaskExecutionInfo"
          }
        },
        "type": "object",
        "required": [
          "scheduler_running",
          "last_cleanup",
          "last_backup"
        ],
        "title": "WorkerStatusResponse",
        "description": "Response for worker status"
      }
    },
    "securitySchemes": {
      "HTTPBearer": {
        "type": "http",
        "scheme": "bearer"
      }
    }
  }
}